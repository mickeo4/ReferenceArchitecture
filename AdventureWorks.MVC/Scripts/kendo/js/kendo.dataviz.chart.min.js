/*
* Kendo UI Beta v2012.3.1024 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

;(function(e,t){function wr(e,t){function i(e,t,n){var r,i=typeof t;return i===en?r=yr[t](e):i==="function"?r=t(e,n):r=yr.max(e),r}function s(e,t,n){var r=Wr(n.type),s=r.length,o=e.length,u,a,f,l=[],c=[];for(u=0;u<s;u++){f=r[u];for(a=0;a<o;a++)c.push(e[a][f]);l.push(i(c,t[f],n)),c=[]}return l}var n=t.aggregate,r;return typeof n=="object"?r=s(e,n,t):r=i(e,n,t),r}function Er(e){return xr(e).min}function Sr(e){return xr(e).max}function xr(e){var t=Dt,n=Pt,r,i=e.length,s;for(r=0;r<i;r++)s=e[r],s!==null&&isFinite(s)&&(t=o.min(t,s),n=o.max(n,s));return{min:t,max:n}}function Tr(e,t,n,r){var i,s=(r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x),o=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y),u;return o!==0&&(u=s/o,i=new L(e.x+u*(t.x-e.x),e.y+u*(t.y-e.y))),i}function Nr(e,t){var n=e.series,r,i=n.length,s,o=e.seriesDefaults,u=m({},e.seriesDefaults),a=t?m({},t.seriesDefaults):{},f=m({},a);Cr(u),Cr(f);for(r=0;r<i;r++)s=n[r].type||e.seriesDefaults.type,n[r]=m({},f,a[s],{tooltip:e.tooltip},u,o[s],n[r])}function Cr(e){delete e.bar,delete e.column,delete e.line,delete e.verticalLine,delete e.pie,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc}function kr(e){var t=e.series,n,r=t.length,i=e.seriesColors||[];for(n=0;n<r;n++)t[n].color=t[n].color||i[n%i.length]}function Lr(e){if(e.categoryAxes){var t=[],n=[].concat(e.categoryAxis),r;for(r=0;r<n.length;r++)t.push(n[r].categories);e.categoryAxis=n=e.categoryAxes;for(r=0;r<n.length;r++)n[r].categories=n[r].categories||t.shift()}e.valueAxes&&(e.valueAxis=e.valueAxes),e.xAxes&&(e.xAxis=e.xAxes),e.yAxes&&(e.yAxis=e.yAxes)}function Ar(t,r){var i=(r||{}).axisDefaults||{};Lr(t),n([it,"value",yn,bn],function(){var n=this+"Axis",r=[].concat(t[n]),s=t.axisDefaults||{};r=e.map(r,function(e){var t=(e||{}).color;return m({},i,i[n],s,s[n],{line:{color:t},labels:{color:t},title:{color:t}},e)}),t[n]=r.length>1?r:r[0]})}function Or(e,t){var n=[].concat(e.categoryAxis),r,i,s,o,u;for(r=0;r<n.length;r++){i=n[r];if(i.field)for(s=0;s<t.length;s++)u=t[s],o=Pr(i.field,u),s===0?(i.categories=[o],i.dataItems=[u]):(i.categories.push(o),i.dataItems.push(u))}}function Mr(e,t,n){e[t]=(e[t]||0)+n}function _r(e){var t=e.length,n=0,r;for(r=0;r<t;r++)n=o.max(n,e[r].data.length);return n}function Dr(e){return e*e}function Pr(e,t){if(t===null)return null;var n=Pr.cache[e]=Pr.cache[e]||g(e,!0);return n(t)}function Hr(e){var t,n,r;if(e instanceof Date)t=e;else if(typeof e===en)n=dt.exec(e),t=new Date(n?parseInt(n[1],10):e);else if(e)if(e.length){t=[];for(r=0;r<e.length;r++)t.push(Hr(e[r]))}else t=new Date(e);return t}function Br(e){if(i(e))return s(e,Br);if(e)return Hr(e).getTime()}function jr(e,t,n,r){if(!e)return e;e=Hr(e);if(n===wn)return new Date(e.getFullYear()+t,0,1);if(n===Bt)return new Date(e.getFullYear(),e.getMonth()+t,1);if(n===mn){var i=Fr(e,r);return jr(i,t*7,vt)}return n===vt?new Date(e.getFullYear(),e.getMonth(),e.getDate()+t):n===Nt?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t):n===Ht?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+t):e}function Fr(e,t){var n=e.getDay(),r=0;t=t||0;while(n!==t)n===0?n=6:n--,r++;return Ur(e,-r*rn)}function Ir(e,t,n){return e=Hr(e),jr(e,0,t,n)}function qr(e,t,n){return e=Hr(e),Ir(e,t,n).getTime()===e.getTime()?e:jr(e,1,t,n)}function Rr(e,t){var n=e.getTime()-t,r=e.getTimezoneOffset()-t.getTimezoneOffset();return n-r*tn}function Ur(e,t){var n=e.getTimezoneOffset(),r=new Date(e.getTime()+t),i=r.getTimezoneOffset()-n;return new Date(r.getTime()+i*tn)}function zr(e,t,n){var r;return n===wn?r=t.getFullYear()-e.getFullYear():n===Bt?r=zr(e,t,wn)*12+t.getMonth()-e.getMonth():n===vt?r=o.floor(Rr(t,e)/rn):r=o.floor((t-e)/an[n]),r}function Wr(e){var t=["value"];return I(e,[rt,qt])?t=["open","high","low","close"]:I(e,xn)&&(t=[yn,bn],e===nt&&t.push("size")),t}function Xr(e,t,n){var r=e.data[t],s,o={},u,a,f=Wr(e.type),l,c={value:r};return j(r)?i(r)?(s=r.slice(f.length),l=Vr(r,f),o=Vr(s,n)):typeof r=="object"&&(u=Jr(e,f),a=Jr(e,n),l=$r(r,f,u),o=$r(r,n,a)):l=$r({},f),j(l)&&(f.length===1&&(l=l[f[0]]),c.value=l),c.fields=o,c}function Vr(e,t){var n={},r,i;if(t){i=o.min(t.length,e.length);for(r=0;r<i;r++)n[t[r]]=e[r]}return n}function $r(e,t,n){var r={},i,s,o,u;if(t){s=t.length,n=n||t;for(i=0;i<s;i++)o=t[i],u=n[i],r[o]=Pr(u,e)}return r}function Jr(e,t){var n,r,i,s,o;if(t){r=t.length,s=[];for(n=0;n<r;n++)i=t[n],o=i==="value"?"field":i+"Field",s.push(e[o]||i)}return s}function Kr(e){return e.length===1?e[0]:e}function Qr(e,t,n){return o.max(o.min(e,n),t)}function Gr(e){var t=new S,n,r=e.length,i;if(r>0)for(n=0;n<r;n++)i=e[n],n===0?t=i.box.clone():t.wrap(i.box);return t}function Yr(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function Zr(e,t){return e&&t?Br(e)===Br(t):e===t}function ei(e){var t=e.length,n;while(t--){n=e[t];if(j(n)&&n!==null)return n}}function ti(e,t){t!==null&&e.push(t)}function ni(e,t){var n=0,r=e.length-1,i,s;while(n<=r){i=o.floor((n+r)/2),s=e[i];if(s<t){n=i+1;continue}if(s>t){r=i-1;continue}return i}return e[i]<=t?i:i-1}function ri(e){var t=!0,n,r,i=e.length;for(n=0;n<i;n++){r=e[n];if(r===null||!isFinite(r)){t=!1;break}}return t}var n=e.each,r=e.grep,i=e.isArray,s=e.map,o=Math,u=e.extend,a=e.proxy,f=document,l=window.kendo,c=l.Class,h=l.Observable,p=l.data.DataSource,d=l.ui.Widget,v=l.template,m=l.deepExtend,g=l.getter,y=l.dataviz,b=y.Axis,w=y.AxisLabel,E=y.BarAnimation,S=y.Box2D,x=y.BoxElement,T=y.ChartElement,N=y.Color,C=y.ElementAnimation,k=y.NumericAxis,L=y.Point2D,A=y.RootElement,O=y.Ring,M=y.Text,_=y.TextBox,D=y.Title,P=y.animationDecorator,H=y.append,B=y.autoFormat,j=y.defined,F=y.getSpacing,I=y.inArray,q=y.interpolateValue,R=y.last,U=y.round,z=y.renderTemplate,W=y.uniqueId,X="k-",V="above",$="area",J="auto",K="fit",Q=y.AXIS_LABEL_CLICK,G="bar",Y=.8,Z="below",et="#000",tt="bottom",nt="bubble",rt="candlestick",it="category",st="center",ot="change",ut="circle",at="click",ft=y.CLIP,lt="column",ct=y.COORD_PRECISION,ht="dataBound",pt="date",dt=/^\/Date\((.*?)\)\/$/,vt="days",mt=y.DEFAULT_FONT,gt=y.DEFAULT_HEIGHT,yt=y.DEFAULT_PRECISION,bt=y.DEFAULT_WIDTH,wt=o.PI/180,Et="donut",St=50,xt="fadeIn",Tt="glass",Nt="hours",Ct=y.INITIAL_ANIMATION_DURATION,kt="insideBase",Lt="insideEnd",At="interpolate",Ot="left",Mt="line",_t=8,Dt=Number.MAX_VALUE,Pt=-Number.MAX_VALUE,Ht="minutes",Bt="months",jt="mousemove.tracking",Ft="mouseover",It=".kendoChart",qt="ohlc",Rt="outsideEnd",Ut="_outline",zt="pie",Wt=70,Xt="plotAreaClick",Vt="right",$t="roundedBevel",Jt="roundedGlass",Kt="scatter",Qt="scatterLine",Gt="select",Yt="seriesClick",Zt="seriesHover",en="string",tn=6e4,nn=60*tn,rn=24*nn,sn=7*rn,on=31*rn,un=365*rn,an={years:un,months:on,weeks:sn,days:rn,hours:nn,minutes:tn},fn="top",ln=150,cn=5,hn=100,pn="triangle",dn="verticalArea",vn="verticalLine",mn="weeks",gn="#fff",yn="x",bn="y",wn="years",En="zero",Sn=[G,lt,Mt,vn,$,dn,rt,qt],xn=[Kt,Qt,nt],Tn=[Ht,Nt,vt,mn,Bt,wn],Nn={minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Cn=d.extend({init:function(e,t){var n=this,r,i,s=y.ui.themes||{},o,u,f=(t||{}).dataSource;d.fn.init.call(n,e),r=m({},n.options,t),n.element.addClass("k-chart").css("position","relative"),n._originalOptions=m({},r),u=r.theme,o=s[u]||s[u.toLowerCase()],i=u&&o?o.chart:{},n._applyDefaults(r,i),n.options=m({},i,r),kr(n.options),n.bind(n.events,n.options),n.wrapper=n.element,n._dataChangeHandler=a(n._onDataChanged,n),n.dataSource=p.create(f).bind(ot,n._dataChangeHandler),n._redraw(),n._attachEvents(),f&&r.autoBind&&n.dataSource.fetch(),l.notify(n,y.ui)},setDataSource:function(e){var t=this;t.dataSource.unbind(ot,t._dataChangeHandler),t.dataSource=e,e.bind(ot,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[ht,Yt,Zt,Q,Xt],items:function(){return e()},options:{name:"Chart",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:lt,data:[],groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",labels:{}},series:[],tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var e=this;e._applyDefaults(e.options),delete e._sourceSeries,e._onDataChanged()},redraw:function(e){var t=this,n,r;t._applyDefaults(t.options),e?(r=t._model._plotArea,Lr(r.options),n=r.findPane(e),r.redrawPane(n)):t._redraw()},_redraw:function(){var e=this,t=e.options,n=e.element,r=e._model=e._getModel(),i=y.ui.defaultView(),s;e._plotArea=r._plotArea,i&&(s=e._view=i.fromModel(r),e._viewElement=s.renderTo(n[0]),e._tooltip=new y.Tooltip(n,t.tooltip),e._highlight=new mr(s,e._viewElement))},svg:function(){var e=this._getModel(),t=y.SVGView.fromModel(e);return t.render()},_applyDefaults:function(e,t){Ar(e,t),Nr(e,t)},_getModel:function(){var e=this,t=e.options,n=e.element,r=new A(m({width:n.width()||bt,height:n.height()||gt,transitions:t.transitions},t.chartArea)),i;return D.buildTitle(t.title,r),i=r._plotArea=e._createPlotArea(),t.legend.visible&&r.append(new Ln(i.options.legend)),r.append(i),r.reflow(),r},_createPlotArea:function(){var e=this,t=e.options,n=t.series,r,i=n.length,s,o=[],u=[],a=[],f=[],l;for(r=0;r<i;r++)s=n[r],I(s.type,Sn)?o.push(s):I(s.type,xn)?u.push(s):s.type===zt?a.push(s):s.type===Et&&f.push(s);return a.length>0?l=new fr(a,t):f.length>0?l=new lr(f,t):u.length>0?l=new ar(u,t):l=new or(o,t),l},_attachEvents:function(){var e=this,t=e.element;t.on(at+It,a(e._click,e)),t.on(Ft+It,a(e._mouseOver,e))},_getChartElement:function(t){var n=this,r=e(t.target).data("modelId"),i=n._model,s;return r&&(s=i.modelMap[r]),s&&s.aliasFor&&(s=s.aliasFor(t,n._eventCoordinates(t))),s},_eventCoordinates:function(t){var n=this.element,r=n.offset(),i=parseInt(n.css("paddingLeft"),10),s=parseInt(n.css("paddingTop"),10),o=e(window);return{x:t.clientX-r.left-i+o.scrollLeft(),y:t.clientY-r.top-s+o.scrollTop()}},_click:function(e){var t=this,n=t._getChartElement(e);while(n)n.click&&n.click(t,e),n=n.parent},_mouseOver:function(t){var n=this,r=n._tooltip,i=n._highlight,s,o;if(n._suppressHover||!i||i.overlayElement===t.target)return;o=n._getChartElement(t),o&&o.hover&&(o.hover(n,t),n._activePoint=o,s=m({},n.options.tooltip,o.options.tooltip),s.visible&&r.show(o),i.show(o),e(f.body).on(jt,a(n._mouseMove,n)))},_mouseMove:function(t){var n=this,r=n._tooltip,i=n._highlight,s=n._eventCoordinates(t),o=n._activePoint,u,a,l;n._plotArea.box.containsPoint(s)?o&&o.series&&(o.series.type===Mt||o.series.type===$)&&(a=o.parent,l=a.getNearestPoint(s.x,s.y,o.seriesIx),l&&l!=o&&(l.hover(n,t),n._activePoint=l,u=m({},n.options.tooltip,o.options.tooltip),u.visible&&r.show(l),i.show(l))):(e(f.body).off(jt),delete n._activePoint,r.hide(),i.hide())},_onDataChanged:function(){var e=this,t=e.options,n=e._sourceSeries||t.series,r,i=n.length,s=e.dataSource.view(),o=(e.dataSource.group()||[]).length>0,u=[],a;for(r=0;r<i;r++)a=n[r],e.isBindable(a)?(a.data=s,H(u,o?e._createGroupedSeries(a,s):[a])):u.push(a);e._sourceSeries=n,t.series=u,kr(e.options),e._categoriesData=o?s[0].items:s,Or(e.options,e._categoriesData),e.trigger(ht),e._redraw()},isBindable:function(e){var t=Wr(e.type),n=!0,r,i;for(i=0;i<t.length;i++){r=t[i],r==="value"?r="field":r+="Field";if(!e[r]){n=!1;break}}return n},_createGroupedSeries:function(e,n){var r=[],i,s,o,u=n.length,a;e.groupNameTemplate&&(i=v(e.groupNameTemplate));for(o=0;o<u;o++)a=m({},e),a.color=t,r.push(a),s=n[o],a.data=s.items,i&&(a.name=i({series:a,group:s}));return r},destroy:function(){var e=this,t=e.dataSource;e.wrapper.off(It),t.unbind(ot,e._dataChangeHandler),d.fn.destroy.call(e)}}),kn=T.extend({init:function(e,t){var n=this;T.fn.init.call(n,t),n.append(new _(e,n.options))},options:{position:Rt,margin:F(3),padding:F(4),color:et,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:xt,delay:Ct},zIndex:1},reflow:function(e){var t=this,n=t.options,r=n.vertical,i=n.aboveAxis,s=t.children[0],o=s.box,u=s.options.padding;s.options.align=r?st:Ot,s.options.vAlign=r?fn:st,n.position==Lt?r?(s.options.vAlign=fn,!i&&o.height()<e.height()&&(s.options.vAlign=tt)):s.options.align=i?Vt:Ot:n.position==st?(s.options.vAlign=st,s.options.align=st):n.position==kt?r?s.options.vAlign=i?tt:fn:s.options.align=i?Ot:Vt:n.position==Rt&&(r?i?e=new S(e.x1,e.y1-o.height(),e.x2,e.y1):e=new S(e.x1,e.y2,e.x2,e.y2+o.height()):(s.options.align=st,i?e=new S(e.x2+o.width(),e.y1,e.x2,e.y2):e=new S(e.x1-o.width(),e.y1,e.x1,e.y2))),r?u.left=u.right=(e.width()-s.contentBox.width())/2:u.top=u.bottom=(e.height()-s.contentBox.height())/2,s.reflow(e)}}),Ln=T.extend({init:function(e){var t=this;T.fn.init.call(t,e),t.createLabels()},options:{position:Vt,items:[],labels:{},offsetX:0,offsetY:0,margin:F(10),padding:F(5),border:{color:et,width:0},background:"",zIndex:1},createLabels:function(){var e=this,t=e.options.items,n=t.length,r,i,s;for(s=0;s<n;s++)i=t[s].name,r=new M(i,e.options.labels),e.append(r)},reflow:function(e){var t=this,n=t.options,r=t.children.length;if(r===0){t.box=e.clone();return}if(n.position=="custom"){t.customLayout(e);return}n.position==fn||n.position==tt?t.horizontalLayout(e):t.verticalLayout(e)},getViewElements:function(e){var t=this,n=t.children,r=t.options,i=r.items,s=i.length,o=t.markerSize(),u=e.createGroup({zIndex:r.zIndex}),a=r.border||{},f,l,c,h,p,d,v;H(u.children,T.fn.getViewElements.call(t,e));for(v=0;v<s;v++)h=i[v].color,p=n[v],l=new S,d=p.box,c=c?c.wrap(d):d.clone(),l.x1=d.x1-o*2,l.x2=l.x1+o,r.position==fn||r.position==tt?l.y1=d.y1+o/2:l.y1=d.y1+(d.height()-o)/2,l.y2=l.y1+o,u.children.push(e.createRect(l,{fill:h,stroke:h}));return n.length>0&&(f=F(r.padding),f.left+=o*2,c.pad(f),u.children.unshift(e.createRect(c,{stroke:a.width?a.color:"",strokeWidth:a.width,dashType:a.dashType,fill:r.background}))),[u]},verticalLayout:function(e){var t=this,n=t.options,r=t.children,i=r.length,s=r[0].box.clone(),u,a,f=F(n.margin),l=t.markerSize()*2,c,h;for(h=1;h<i;h++)c=t.children[h],c.box.alignTo(t.children[h-1].box,tt),s.wrap(c.box);n.position==Ot?(u=e.x1+l+f.left,a=(e.y2-s.height())/2,s.x2+=l+f.left+f.right):(u=e.x2-s.width()-f.right,a=(e.y2-s.height())/2,s.translate(u,a),s.x1-=l+f.left),t.translateChildren(u+n.offsetX,a+n.offsetY);var p=s.width();s.x1=o.max(e.x1,s.x1),s.x2=s.x1+p,s.y1=e.y1,s.y2=e.y2,t.box=s},horizontalLayout:function(e){var t=this,n=t.options,r=t.children,i=r.length,s=r[0].box.clone(),o=t.markerSize()*3,u,a,f=F(n.margin),l=r[0].box.width()+o,c=e.width(),h,p=0,d;for(d=1;d<i;d++)h=r[d],l+=h.box.width()+o,l>c-o?(h.box=new S(s.x1,s.y2,s.x1+h.box.width(),s.y2+h.box.height()),l=h.box.width()+o,p=h.box.y1):(h.box.alignTo(r[d-1].box,Vt),h.box.y2=p+h.box.height(),h.box.y1=p,h.box.translate(o,0)),s.wrap(h.box);u=(e.width()-s.width()+o)/2,n.position===fn?(a=e.y1+f.top,s.y2=e.y1+s.height()+f.top+f.bottom,s.y1=e.y1):(a=e.y2-s.height()-f.bottom,s.y1=e.y2-s.height()-f.top-f.bottom,s.y2=e.y2),t.translateChildren(u+n.offsetX,a+n.offsetY),s.x1=e.x1,s.x2=e.x2,t.box=s},customLayout:function(e){var t=this,n=t.options,r=t.children,i=r.length,s=r[0].box.clone(),o=t.markerSize()*2,u;for(u=1;u<i;u++)s=t.children[u].box,s.alignTo(t.children[u-1].box,tt),s.wrap(s);t.translateChildren(n.offsetX+o,n.offsetY),t.box=e},markerSize:function(){var e=this,t=e.children;return t.length>0?t[0].box.height()/2:0}}),An=b.extend({options:{type:it,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:et},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t=this,n=t.options,r=n.vertical,i=n.justified,s=t.lineBox(),o=r?s.height():s.width(),u=e-(i?1:0),a=o/u,f=r?bn:yn,l=s[f+1],c=[],h;for(h=0;h<e;h++)c.push(U(l,ct)),l+=a;return i||c.push(s[f+2]),n.reverse?c.reverse():c},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.categories.length)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.categories.length*2)},getSlot:function(e,t){var n=this,r=n.options,i=n.getMajorTickPositions(),s=r.reverse,u=r.justified,a=r.vertical?bn:yn,f=n.lineBox(),l=f[a+(s?2:1)],c=f[a+(s?1:2)],h=f.clone(),p=o.max(1,i.length-(u?0:1)),d,v,m;e=Qr(e,0,p),t=j(t)?t:e,t=Qr(t-1,e,p),d=e===0?l:i[e],v=u?d:i[t],m=t-e;if(m>0||e===t)v=i[t+1]||c;return u&&(e===p?d=v:v=d),h[a+1]=s?v:d,h[a+2]=s?d:v,h},getCategoryIndex:function(e){var t=this,n=t.options,r=n.reverse,i=n.vertical,s=i?bn:yn,u=t.lineBox(),a=u[s+1],f=u[s+2],l=e[s],c=t.getMajorTickPositions(),h,p,d,v;if(l<a||l>f)return null;for(d=0;d<c.length;d++){h=c[d],p=c[d+1],j(p)||(p=r?a:f),r&&(h=p,p=c[d]);if(n.justified&&l===p){v=o.max(0,i?c.length-d-1:d+1);break}if(l>=h&&l<=p){v=o.max(0,i?c.length-d-2:d);break}}return v},getCategory:function(e){var t=this.getCategoryIndex(e);return t===null?null:this.options.categories[t]},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var n=this,r=n.options,i=r.dataItems?r.dataItems[e]:null,s=j(r.categories[e])?r.categories[e]:"";return new w(s,e,i,t)}}),On=w.extend({formatValue:function(e,t){return l.toString(e,t.format,t.culture)}}),Mn=An.extend({init:function(e){var t=this,n,r;e=e||{},e=m({roundToBaseUnit:!0},e,{min:Hr(e.min),max:Hr(e.max)}),e.categories&&e.categories.length>0&&(n=(e.baseUnit||"").toLowerCase(),r=n!==K&&!I(n,Tn),r&&(e.baseUnit=t.defaultBaseUnit(e)),(n===K||e.baseUnitStep===J)&&t.autoBaseUnit(e),t.groupCategories(e)),An.fn.init.call(t,e)},options:{type:pt,labels:{dateFormats:Nn},autoBaseUnitSteps:{minutes:[1,2,5,15,30],hours:[1,2,3,6,12],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},defaultBaseUnit:function(e){var t=e.categories,n=j(t)?t.length:0,r,i,s,u=Dt,a,f;for(r=0;r<n;r++)i=Hr(t[r]),i&&a&&(s=i-a,s>0&&(u=o.min(u,s),u>=un?f=wn:u>=on-rn*3?f=Bt:u>=sn?f=mn:u>=rn?f=vt:u>=nn?f=Nt:f=Ht)),a=i;return f||vt},range:function(e){var t=Hr(e.categories),n=e.baseUnit===K,r=n?Tn[0]:e.baseUnit,i=Br(e.min),s=Br(e.max),o=xr(t),u=Br(o.min),a=Br(o.max);return e.roundToBaseUnit?{min:jr(i||u,0,r,e.weekStartDay),max:jr(s||a,1,r,e.weekStartDay)}:{min:Hr(i||u),max:Hr(s||a)}},autoBaseUnit:function(e){var t=this,n=t.range(e),r=e.baseUnit===K,i=0,s=r?Tn[i++]:e.baseUnit,u=n.max-n.min,a=u/an[s],f=a,l=e.maxDateGroups||t.options.maxDateGroups,c=m({},t.options.autoBaseUnitSteps,e.autoBaseUnitSteps),h,p,d;while(a>l){h=h||c[s].slice(0),d=h.shift();if(d)p=d,a=f/p;else{if(!r){a>l&&(p=o.ceil(f/l));break}s=Tn[i++]||R(Tn),f=u/an[s],h=null}}e.baseUnitStep=p,e.baseUnit=s},getMajorTickPositions:function(){var e=this,t=e.options,n=t.categories,r=[];if(t.roundToBaseUnit||n.length===0)r=An.fn.getMajorTickPositions.call(e);else{var i=t.vertical,s=t.reverse,o=e.lineBox(),u=i?o.height():o.width(),a=n[0].getTime(),f=e.range(e.options),l=f.max-f.min,c=u/l,h=n.length,p=(i?-1:1)*(s?-1:1),d=p===1?1:2,v=p===1?2:1,m=o[(i?bn:yn)+d],g=o[(i?bn:yn)+v],y=m,b,w;for(b=0;b<h;b++)w=n[b]-a,y=m+w*c*p,r.push(U(y,ct));R(r)!==g&&r.push(g)}return r},groupCategories:function(e){var t=this,n=Hr(e.categories),r=e.baseUnit,i=e.baseUnitStep||1,s=t.range(e),o=e.roundToBaseUnit,u,a,f,l=[],c=t.categoryMap=[],h,p=[],d,v;u=o?jr(s.max,i-1,r,e.weekStartDay):s.max;for(a=s.min;a<u;a=f){f=jr(a,i,r,e.weekStartDay),l.push(a),h=[];for(d=ni(n,a);d<n.length;d++){v=n[d];if(v&&v>=a){if(!(v<f))break;e.justified&&Zr(v,u)?p.push(d):h.push(d)}}c.push(h)}p.length&&(l.push(u),c.push(p)),e.min=l[0],e.max=o?R(l):u,e.categories=l},createAxisLabel:function(e,t){var n=this.options,r=n.dataItems?n.dataItems[e]:null,i=n.categories[e],s=n.baseUnit,o=!0,u=t.dateFormats[s];if(n.justified){var a=Ir(i,s,n.weekStartDay);o=Zr(a,i)}return t=m({format:u},t,{visible:o}),new On(i,e,r,t)}}),_n=b.extend({init:function(e,t,n){var r=this;n=n||{},m(n,{min:Hr(n.min),max:Hr(n.max),axisCrossingValue:Hr(n.axisCrossingValues||n.axisCrossingValue)}),n=r.applyDefaults(Hr(e),Hr(t),n),b.fn.init.call(r,n)},options:{type:pt,labels:{dateFormats:Nn}},applyDefaults:function(e,n,r){var i=this,s=r.min||e,u=r.max||n,a=r.baseUnit||i.timeUnits(u-s),f=an[a],l=Ir(Br(s)-1,a),c=qr(Br(u)+1,a),h=r.majorUnit?r.majorUnit:t,p=h||y.ceil(y.autoMajorUnit(l.getTime(),c.getTime()),f)/f,d=zr(l,c,a),v=y.ceil(d,p),g=v-d,b=o.floor(g/2),w=g-b;return r.baseUnit||delete r.baseUnit,m({baseUnit:a,min:jr(l,-b,a),max:jr(c,w,a),minorUnit:p/5},r,{majorUnit:p})},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return o.floor(zr(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t=this,n=t.options,r=n.vertical,i=n.reverse,s=t.lineBox(),o=r?s.height():s.width(),u=zr(n.min,n.max,n.baseUnit),a=o/u,f=e*a,l=t.getDivisions(e),c=(r?-1:1)*(i?-1:1),h=c===1?1:2,p=s[(r?bn:yn)+h],d=[],v;for(v=0;v<l;v++)d.push(U(p,ct)),p+=f*c;return d},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t){return k.fn.getSlot.call(this,Hr(e),Hr(t))},getValue:function(e){var t=k.fn.getValue.call(this,e);return t!==null?Hr(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var n=this.options,r=e*n.majorUnit,i=jr(n.min,r,n.baseUnit),s=t.dateFormats[n.baseUnit];return t.format=t.format||s,new On(i,e,null,t)},timeUnits:function(e){var t=Nt;return e>=un?t=wn:e>=on?t=Bt:e>=sn?t=mn:e>=rn&&(t=vt),t}}),Dn=T.extend({init:function(e){var t=this;T.fn.init.call(t,e)},options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t=this,n=t.options,r=n.vertical,i=r?bn:yn,s=t.children,o=n.gap,u=n.spacing,a=s.length,f=a+o+u*(a-1),l=(r?e.height():e.width())/f,c=e[i+1]+l*(o/2),h,p;for(p=0;p<a;p++)h=(s[p].box||e).clone(),h[i+1]=c,h[i+2]=c+l,s[p].reflow(h),p<a-1&&(c+=l*u),c+=l}}),Pn=T.extend({init:function(e){var t=this;T.fn.init.call(t,e)},options:{vertical:!0,isReversed:!1},reflow:function(e){var t=this,n=t.options,r=n.vertical,i=r?yn:bn,s=r?bn:yn,o=e[s+2],u=t.children,a=t.box=new S,f=u.length,l,c;n.isReversed?l=r?tt:Ot:l=r?fn:Vt;for(c=0;c<f;c++){var h=u[c],p=h.box.clone();p.snapTo(e,i),h.options&&(h.options.stackBase=o),c===0?a=t.box=p.clone():p.alignTo(u[c-1].box,l),h.reflow(p),a.wrap(p)}}}),Hn={click:function(t,n){var r=this;t.trigger(Yt,{value:r.value,category:r.category,series:r.series,dataItem:r.dataItem,element:e(n.target)})},hover:function(t,n){var r=this;t.trigger(Zt,{value:r.value,category:r.category,series:r.series,dataItem:r.dataItem,element:e(n.target)})}},Bn=T.extend({init:function(e,t){var n=this;T.fn.init.call(n,t),n.value=e,n.options.id=W(),n.enableDiscovery()},options:{color:gn,border:{width:1},vertical:!0,overlay:{gradient:Tt},aboveAxis:!0,labels:{visible:!1},animation:{type:G},opacity:1},render:function(){var e=this,t=e.value,n=e.options,r=n.labels,i=t,s;if(e._rendered)return;e._rendered=!0,r.visible&&t&&(r.template?(s=v(r.template),i=s({dataItem:e.dataItem,category:e.category,value:e.value,series:e.series})):r.format&&(i=B(r.format,i)),e.append(new kn(i,m({vertical:n.vertical,id:W()},n.labels))))},reflow:function(e){this.render();var t=this,n=t.options,r=t.children,i=r[0];t.box=e,i&&(i.options.aboveAxis=n.aboveAxis,i.reflow(e))},getViewElements:function(e){var t=this,n=t.options,r=n.vertical,i=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,dashType:n.border.dashType}:{},s=t.box,o=m({id:n.id,fill:n.color,fillOpacity:n.opacity,strokeOpacity:n.opacity,vertical:n.vertical,aboveAxis:n.aboveAxis,stackBase:n.stackBase,animation:n.animation,data:{modelId:n.modelId}},i),u=[];return s.width()>0&&s.height()>0&&(n.overlay&&(o.overlay=m({rotation:r?0:90},n.overlay)),u.push(e.createRect(s,o))),H(u,T.fn.getViewElements.call(t,e)),u},highlightOverlay:function(e,t){var n=this,r=n.box;return t=m({data:{modelId:n.options.modelId}},t),e.createRect(r,t)},getBorderColor:function(){var e=this,t=e.options,n=t.color,r=t.border.color;return j(r)||(r=(new N(n)).brightness(Y).toHex()),r},tooltipAnchor:function(e,t){var n=this,r=n.options,i=n.box,s=r.vertical,o=r.aboveAxis,u,a;return s?(u=i.x2+cn,a=o?i.y1:i.y2-t):r.isStacked?(u=i.x2-e,a=i.y1-t-cn):(u=i.x2+cn,a=i.y1),new L(u,a)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});m(Bn.fn,Hn);var jn=T.extend({init:function(e,t){var n=this;T.fn.init.call(n,t),n.plotArea=e,n.categoryAxis=e.seriesCategoryAxis(t.series[0]),n.valueAxisRanges={},n.points=[],n.categoryPoints=[],n.seriesPoints=[],n.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var e=this;e.traverseDataPoints(a(e.addValue,e))},addValue:function(e,t,n,r,i){var s=this,o=e.value,u,a=s.categoryPoints[n],f=s.seriesPoints[i];a||(s.categoryPoints[n]=a=[]),f||(s.seriesPoints[i]=f=[]),s.updateRange(o,n,r),u=s.createPoint(e,t,n,r,i),u&&(u.category=t,u.series=r,u.seriesIx=i,u.owner=s,u.dataItem=r.data[n]),s.points.push(u),f.push(u),a.push(u)},updateRange:function(e,t,n){var r=this,i=n.axis,s=r.valueAxisRanges[i];j(e)&&!isNaN(e)&&(s=r.valueAxisRanges[i]=s||{min:Dt,max:Pt},s.min=o.min(s.min,e),s.max=o.max(s.max,e))},seriesValueAxis:function(e){var t=this.plotArea,n=e.axis,r=n?t.namedValueAxes[n]:t.valueAxis;if(!r)throw new Error("Unable to locate value axis with name "+n);return r},reflow:function(e){var t=this,n=t.options,r=n.invertAxes,i=0,s=t.categorySlots=[],o=t.points,u=t.categoryAxis,a,f,l;t.traverseDataPoints(function(e,n,c,h){var p=e.value;a=t.seriesValueAxis(h),f=t.categoryAxisCrossingValue(a),l=o[i++],l&&l.plotValue&&(p=l.plotValue);var d=t.categorySlot(u,c,a),v=t.valueSlot(a,p,f),m=r?v:d,g=r?d:v,y=new S(m.x1,g.y1,m.x2,g.y2),b=a.options.reverse?p<f:p>=f;l&&(l.options.aboveAxis=b,l.reflow(y)),s[c]||(s[c]=d)}),t.reflowCategories(s),t.box=e},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,n=e.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue);return r[t.axisIndex||0]||0},reflowCategories:function(){},valueSlot:function(e,t,n){return e.getSlot(t,n)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t=this,n=t.options,r=n.series,i=t.categoryAxis.options.categories||[],s=_r(r),o=t.bindableFields(),u,a,f,l,c,h=r.length;for(u=0;u<s;u++)for(a=0;a<h;a++)l=i[u],c=r[a],f=Xr(c,u,o),e(f,l,u,c,a)},bindableFields:function(){return[]},formatPointValue:function(e,t){return B(t,e.value)}}),Fn=jn.extend({init:function(e,t){var n=this;n._groupTotals={},n._groups=[],jn.fn.init.call(n,e,t)},render:function(){var e=this;jn.fn.render.apply(e),e.computeAxisRanges()},createPoint:function(e,n,r,i,s){var o=this,u=e.value,a=o.options,f=o.children,l=o.options.isStacked,c=m({},i.labels),h,p;l&&c.position==Rt&&(c.position=Lt),h=new Bn(u,m({},{vertical:!a.invertAxes,overlay:i.overlay,labels:c,isStacked:l},i,{color:e.fields.color||t})),p=f[r],p||(p=new Dn({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing}),o.append(p));if(l){var d=o.getStackWrap(i,p),v,g;d.children.length===0?(v=new Pn({vertical:!a.invertAxes}),g=new Pn({vertical:!a.invertAxes,isReversed:!0}),d.append(v,g)):(v=d.children[0],g=d.children[1]),u>0?v.append(h):g.append(h)}else p.append(h);return h},getStackWrap:function(e,t){var n=t.children,r=e.stack,i,s,o=n.length;if(typeof r===en){for(s=0;s<o;s++)if(n[s]._stackGroup===r){i=n[s];break}}else i=n[0];return i||(i=new T,i._stackGroup=r,t.append(i)),i},updateRange:function(e,t,n){var r=this,i=r.options.isStacked,s=r.groupTotals(n.stack),o=s.positive,u=s.negative;j(e)&&(i?Mr(e>0?o:u,t,e):jn.fn.updateRange.apply(r,arguments))},computeAxisRanges:function(){var e=this,t=e.options.isStacked,n,r;t&&(n=e.options.series[0].axis,r=e.categoryTotals(),e.valueAxisRanges[n]={min:Er(r.negative.concat(0)),max:Sr(r.positive.concat(0))})},seriesValueAxis:function(e){var t=this,n=t.options;return jn.fn.seriesValueAxis.call(t,n.isStacked?t.options.series[0]:e)},valueSlot:function(e,t,n){return e.getSlot(t,this.options.isStacked?0:n)},categorySlot:function(e,t,n){var r=this,i=r.options,s=e.getSlot(t),o,u;return i.isStacked&&(u=n.getSlot(0,0),o=i.invertAxes?yn:bn,s[o+1]=s[o+2]=u[o+1]),s},reflow:function(e){var t=this;t.setStacksDirection(),jn.fn.reflow.call(t,e)},setStacksDirection:function(){var e=this,t=e.options,n=t.series,r=_r(n),i=e.children,s,o,u,a,f=n.length;for(o=0;o<f;o++){u=n[o],a=e.seriesValueAxis(u);for(s=0;s<r;s++){var l=i[s],c=e.getStackWrap(u,l),h=c.children,p=h[0],d=h[1];p&&d&&(p.options.isReversed=a.options.reverse,d.options.isReversed=!a.options.reverse)}}},reflowCategories:function(e){var t=this,n=t.children,r=n.length,i;for(i=0;i<r;i++)n[i].reflow(e[i])},groupTotals:function(e){var t=this,n=typeof e===en?e:"default",r=t._groupTotals[n];return r||(r=t._groupTotals[n]={positive:[],negative:[]},t._groups.push(n)),r},categoryTotals:function(){var e=this,t=e._groups,n=e._groupTotals,r,i,s={positive:[],negative:[]},o,u=t.length;for(o=0;o<u;o++)r=t[o],i=n[r],H(s.positive,i.positive),H(s.negative,i.negative);return s},bindableFields:function(){return["color"]}}),In=x.extend({init:function(e){var t=this;x.fn.init.call(t,e)},options:{type:ut,align:st,vAlign:st},getViewElements:function(e,t){var n=this,r=n.options,i=r.type,s=n.paddingBox,o,u,a=s.width()/2;return!r.visible||!n.hasBox()?[]:(u=m(n.elementStyle(),t),i===pn?o=e.createPolyline([new L(s.x1+a,s.y1),new L(s.x1,s.y2),new L(s.x2,s.y2)],!0,u):i===ut?o=e.createCircle(new L(U(s.x1+a,ct),U(s.y1+s.height()/2,ct)),a,u):o=e.createRect(s,u),[o])}}),qn=T.extend({init:function(e,t){var n=this;T.fn.init.call(n,t),n.value=e,n.options.id=W(),n.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:gn,size:_t,type:ut,border:{width:2},opacity:1},labels:{visible:!1,position:V,margin:F(3),padding:F(4),animation:{type:xt,delay:Ct}}},render:function(){var e=this,t=e.options,n=t.markers,r=t.labels,i=n.background,s=m({},n.border),o=e.value;if(e._rendered)return;e._rendered=!0,j(s.color)||(s.color=(new N(i)).brightness(Y).toHex()),e.marker=new In({id:e.options.id,visible:n.visible&&n.size,type:n.type,width:n.size,height:n.size,background:i,border:s,opacity:n.opacity,zIndex:n.zIndex,animation:n.animation}),e.append(e.marker);if(r.visible){if(r.template){var u=v(r.template);o=u({dataItem:e.dataItem,category:e.category,value:e.value,series:e.series})}else r.format&&(o=e.formatValue(r.format));e.label=new _(o,m({id:W(),align:st,vAlign:st,margin:{left:5,right:5}},r)),e.append(e.label)}},markerBox:function(){return this.marker.box},reflow:function(e){var t=this,n=t.options,r=n.vertical,i=n.aboveAxis,s;t.render(),t.box=e,s=e.clone(),r?i?s.y1-=s.height():s.y2+=s.height():i?s.x1+=s.width():s.x2-=s.width(),t.marker.reflow(s),t.reflowLabel(s)},reflowLabel:function(e){var t=this,n=t.options,r=t.marker,i=t.label,s=n.labels.position;i&&(s=s===V?fn:s,s=s===Z?tt:s,i.reflow(e),i.box.alignTo(r.box,s),i.reflow(i.box))},highlightOverlay:function(e,t){var n=this,r=n.marker;return t=m({data:{modelId:n.options.modelId}},t),r.getViewElements(e,m(t,{fill:r.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(e,t){var n=this,r=n.marker.box,i=n.options.aboveAxis;return new L(r.x2+cn,i?r.y1-t:r.y2)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});m(qn.fn,Hn);var Rn=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n,e,t),n.category=e.category},options:{labels:{position:st},highlight:{opacity:1,border:{width:1}}},highlightOverlay:function(e){var t=this,n=t.options,r=n.highlight,i=r.border.width,s=n.markers,o=t.box.center(),u=s.size/2-i/2,a=(new N(s.background)).brightness(Y).toHex();return e.createCircle(o,u,{data:{modelId:t.options.modelId},stroke:a,strokeWidth:i})},toggleHighlight:function(e,n){var r=this,i=r.options.highlight.opacity;r.highlighted=!r.highlighted;var s=r.marker.getViewElements(e,{fillOpacity:r.highlighted?i:t})[0];s.refresh(f.getElementById(this.options.id))}}),Un=T.extend({init:function(e,t,n){var r=this;T.fn.init.call(r),r.linePoints=e,r.series=t,r.seriesIx=n,r.options.id=W(),r.enableDiscovery()},options:{},points:function(e){var t=this,n=t.linePoints.concat(e||[]),r=[],i,s=n.length,o;for(i=0;i<s;i++)o=n[i].markerBox().center(),r.push(new L(o.x,o.y));return r},getViewElements:function(e){var t=this,n=t.series;return T.fn.getViewElements.call(t,e),[e.createPolyline(t.points(),!1,{id:t.options.id,stroke:n.color,strokeWidth:n.width,strokeOpacity:n.opacity,fill:"",dashType:n.dashType,data:{modelId:t.options.modelId},zIndex:-1})]},aliasFor:function(e,t){var n=this,r=n.seriesIx;return n.parent.getNearestPoint(t.x,t.y,r)}}),zn={renderSegments:function(){var e=this,t=e.options,n=t.series,r=e.seriesPoints,i,s,o=r.length,u,a,f,l,c,h=[];for(s=0;s<o;s++){u=r[s],c=u.length,i=n[s],a=[];for(l=0;l<c;l++)f=u[l],f?a.push(f):e.seriesMissingValues(i)!==At&&(a.length>1&&h.push(e.createSegment(a,i,s,R(h))),a=[]);a.length>1&&h.push(e.createSegment(a,i,s,R(h)))}e._segments=h,e.append.apply(e,h)},seriesMissingValues:function(e){var t=e.missingValues
,n=!t&&this.options.isStacked;return n?En:t},createSegment:function(e,t,n){return new Un(e,t,n)},getNearestPoint:function(e,t,n){var r=this,i=r.options.invertAxes,s=i?bn:yn,u=i?t:e,a=r.seriesPoints[n],f=Dt,l=a.length,c,h,p,d,v;for(v=0;v<l;v++)c=a[v],c&&j(c.value)&&c.value!==null&&(h=c.box,p=o.abs(h.center()[s]-u),p<f&&(d=c,f=p));return d}},Wn=jn.extend({init:function(e,t){var n=this;n._stackAxisRange={min:Dt,max:Pt},n._categoryTotals=[],n.enableDiscovery(),jn.fn.init.call(n,e,t)},render:function(){var e=this;jn.fn.render.apply(e),e.computeAxisRanges(),e.renderSegments()},createPoint:function(e,t,n,r,i){var s=this,o=e.value,u=s.options,a=u.isStacked,f=s.categoryPoints[n],l=s.seriesMissingValues(r),c,h=0;if(!j(o)||o===null){if(l!==En)return null;o=0}var p=new qn(o,m({vertical:!u.invertAxes,markers:{border:{color:r.color}}},r));return a&&(c=ei(f),c&&(h=c.plotValue),p.plotValue=o+h),s.append(p),p},updateRange:function(e,t,n){var r=this,i=r.options.isStacked,s=r._stackAxisRange,u=r._categoryTotals,a;j(e)&&(i?(Mr(u,t,e),a=xr(u),s.min=o.min(s.min,a.min),s.max=o.max(s.max,a.max)):jn.fn.updateRange.apply(r,arguments))},computeAxisRanges:function(){var e=this,t=e.options.isStacked,n;t&&(n=e.options.series[0].axis,e.valueAxisRanges[n]=e._stackAxisRange)},getViewElements:function(e){var t=this,n=jn.fn.getViewElements.call(t,e),r=e.createGroup({animation:{type:ft}});return r.children=n,[r]}});m(Wn.fn,zn);var Xn=Un.extend({init:function(e,t,n,r){var i=this;i.stackPoints=t,Un.fn.init.call(i,e,n,r)},points:function(){var e=this,t=e.parent,n=t.options.isStacked&&e.seriesIx>0,r=t.plotArea,i=t.options.invertAxes,s=t.seriesValueAxis(e.series),o=s.lineBox(),u=r.seriesCategoryAxis(e.series),a=u.lineBox(),f=i?a.x1:a.y1,l=e.stackPoints,c=Un.fn.points.call(e,l),h,p;return i?f=Qr(f,o.x1,o.x2):f=Qr(f,o.y1,o.y2),!n&&c.length>1&&(h=c[0],p=R(c),i?(c.unshift(new L(f,h.y)),c.push(new L(f,p.y))):(c.unshift(new L(h.x,f)),c.push(new L(p.x,f)))),c},getViewElements:function(e){var t=this,n=t.series,r=m({color:n.color,opacity:n.opacity},n.line);return T.fn.getViewElements.call(t,e),[e.createPolyline(t.points(),!0,{id:t.options.id,stroke:r.color,strokeWidth:r.width,strokeOpacity:r.opacity,dashType:r.dashType,fillOpacity:n.opacity,fill:n.color,stack:n.stack,data:{modelId:t.options.modelId},zIndex:-1})]}}),Vn=Wn.extend({createSegment:function(e,t,n,r){var i=this,s=i.options,o;return s.isStacked&&n>0&&r&&(o=r.linePoints.slice(0).reverse()),new Xn(e,o,t,n)},seriesMissingValues:function(e){return e.missingValues||En}}),$n=T.extend({init:function(e,t){var n=this;T.fn.init.call(n,t),n.plotArea=e,n.xAxisRanges={},n.yAxisRanges={},n.points=[],n.seriesPoints=[],n.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var e=this;e.traverseDataPoints(a(e.addValue,e))},addValue:function(e,t){var n=this,r,i=e.x,s=e.y,o=t.seriesIx,a=n.seriesPoints[o];n.updateRange(e,t.series),j(i)&&i!==null&&j(s)&&s!==null&&(r=n.createPoint(e,t.series,o,t),r&&u(r,t)),n.points.push(r),a.push(r)},updateRange:function(e,t){var n=this,r=e.x,i=e.y,s=t.xAxis,u=t.yAxis,a=n.xAxisRanges[s],f=n.yAxisRanges[u];j(r)&&r!==null&&(a=n.xAxisRanges[s]=a||{min:Dt,max:Pt},a.min=o.min(a.min,r),a.max=o.max(a.max,r)),j(i)&&i!==null&&(f=n.yAxisRanges[u]=f||{min:Dt,max:Pt},f.min=o.min(f.min,i),f.max=o.max(f.max,i))},createPoint:function(e,t,n){var r=this,i;return i=new qn(e,m({markers:{border:{color:t.color},opacity:t.opacity},tooltip:{format:r.options.tooltip.format},labels:{format:r.options.labels.format}},t)),r.append(i),i},seriesAxes:function(e){var t=this.plotArea,n=e.xAxis,r=n?t.namedXAxes[n]:t.axisX,i=e.yAxis,s=i?t.namedYAxes[i]:t.axisY;if(!r)throw new Error("Unable to locate X axis with name "+n);if(!s)throw new Error("Unable to locate Y axis with name "+i);return{x:r,y:s}},reflow:function(e){var t=this,n=t.points,r=0,i,s;t.traverseDataPoints(function(e,o){i=n[r++],s=t.seriesAxes(o.series);var u=s.x.getSlot(e.x,e.x),a=s.y.getSlot(e.y,e.y),f=new S(u.x1,a.y1,u.x2,a.y2);i&&i.reflow(f)}),t.box=e},getViewElements:function(e){var t=this,n=T.fn.getViewElements.call(t,e),r=e.createGroup({animation:{type:ft}});return r.children=n,[r]},traverseDataPoints:function(e){var t=this,n=t.options,r=n.series,i=t.seriesPoints,s=t.bindableFields(),o,u,a,f,l,c,h;for(u=0;u<r.length;u++){a=r[u],f=i[u],f||(i[u]=[]);for(o=0;o<a.data.length;o++)l=Xr(a,o,s),c=l.value,h=l.fields,e(c,m({pointIx:o,series:a,seriesIx:u,dataItem:a.data[o],owner:t},h))}},bindableFields:function(){return[]},formatPointValue:function(e,t){var n=e.value;return B(t,n.x,n.y)}}),Jn=$n.extend({render:function(){var e=this;$n.fn.render.call(e),e.renderSegments()}});m(Jn.fn,zn);var Kn=$n.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){var n=this,r,i=t.series,s=i.negativeValues,o=n.plotArea.options.seriesColors||[],u=!0;r=t.color||i.color||o[t.pointIx%o.length],e.size<0&&(r=s.color||r,u=s.visible),t.color=r,u&&$n.fn.addValue.call(this,e,t)},reflow:function(e){var t=this;t.updateBubblesSize(e),$n.fn.reflow.call(t,e)},createPoint:function(e,t,n,r){var i=this,s,o=t.data.length,u=r.pointIx*(Ct/o),a={delay:u,duration:Ct-u,type:nt};return s=new Rn(e,m({tooltip:{format:i.options.tooltip.format},labels:{format:i.options.labels.format,animation:a}},t,{color:r.color,markers:{type:ut,background:r.color,border:t.border,opacity:t.opacity,animation:a}})),i.append(s),s},updateBubblesSize:function(e){var t=this,n=t.options,r=n.series,i=o.min(e.width(),e.height()),s,u;for(s=0;s<r.length;s++){var a=r[s],f=t.seriesPoints[s],l=t.maxSize(f),c=a.minSize||o.max(i*.02,10),h=a.maxSize||i*.2,p=c/2,d=h/2,v=o.PI*p*p,g=o.PI*d*d,y=g-v,b=y/l;for(u=0;u<f.length;u++){var w=f[u],E=o.abs(w.value.size)*b,S=o.sqrt((v+E)/o.PI);m(w.options,{markers:{size:S*2,zIndex:d-S},labels:{zIndex:d-S+1}})}}},maxSize:function(e){var t=e.length,n=0,r,i;for(r=0;r<t;r++)i=e[r].value.size,n=o.max(n,o.abs(i));return n},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(e){var t=this,n=T.fn.getViewElements.call(t,e),r=e.createGroup();return r.children=n,[r]},formatPointValue:function(e,t){var n=e.value;return B(t,n.x,n.y,n.size,e.category)}}),Qn=T.extend({init:function(e,t){var n=this;T.fn.init.call(n,t),n.value=e,n.options.id=W(),n.enableDiscovery()},options:{border:{},line:{width:2},overlay:{gradient:Tt},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"}},reflow:function(e){var t=this,n=t.options,r=t.owner,i=t.value,s=r.seriesValueAxis(n),o=[],u,a,f;a=s.getSlot(i.open,i.close),f=s.getSlot(i.low,i.high),a.x1=f.x1=e.x1,a.x2=f.x2=e.x2,t.realBody=a,u=f.center().x,o.push([new L(u,f.y1),new L(u,a.y1)]),o.push([new L(u,a.y2),new L(u,f.y2)]),t.lowHighLinePoints=o,t.box=f.clone().wrap(a)},getViewElements:function(e){var t=this,n=t.options,r=[],i=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,dashType:n.border.dashType,strokeOpacity:j(n.border.opacity)?n.border.opacity:n.opacity}:{},s=m({id:n.id,fill:t.color,fillOpacity:n.opacity},i),o={id:n.id,strokeOpacity:j(n.line.opacity)?n.line.opacity:n.opacity,strokeWidth:n.line.width,stroke:n.line.color||t.color,dashType:n.line.dashType,strokeLineCap:"butt"},u=e.createGroup({animation:{type:ft}});return n.overlay&&(s.overlay=m({rotation:0},n.overlay)),r.push(e.createRect(t.realBody,s)),r.push(e.createPolyline(t.lowHighLinePoints[0],!1,o)),r.push(e.createPolyline(t.lowHighLinePoints[1],!1,o)),r.push(t.createOverlayRect(e,n)),H(r,T.fn.getViewElements.call(t,e)),u.children=r,[u]},getBorderColor:function(){var e=this,t=e.options,n=e.color,r=t.border,i=r.color;return j(i)||(i=(new N(n)).brightness(r._brightness).toHex()),i},createOverlayRect:function(e,t){return e.createRect(this.box,{id:t.id,data:{modelId:t.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(e,t){var n=this,r=n.options,i=r.highlight,s=i.border||{},o={data:{modelId:r.modelId}},u=m(o,t,{stroke:n.getBorderColor(),strokeOpacity:s.opacity,strokeWidth:s.width}),a=m(o,{stroke:n.getBorderColor(),strokeWidth:i.line.width,strokeLineCap:"butt"}),f=e.createGroup();return f.children.push(e.createRect(n.realBody,u)),f.children.push(e.createPolyline(n.lowHighLinePoints[0],!1,a)),f.children.push(e.createPolyline(n.lowHighLinePoints[1],!1,a)),f},tooltipAnchor:function(e,t){var n=this,r=n.box;return new L(r.x2+cn,r.y1+cn)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});m(Qn.fn,Hn);var Gn=jn.extend({options:{},bindableFields:function(){return["color","downColor"]},reflowCategories:function(e){var t=this,n=t.children,r=n.length,i;for(i=0;i<r;i++)n[i].reflow(e[i])},addValue:function(e,t,n,r,i){var s=this,o=s.options,u=e.value,a=s.children,f=e.fields.color||r.color,l,c=this.splitValue(u),h=ri(c),p;h&&(l=s.createPoint(u,r)),p=a[n],p||(p=new Dn({vertical:o.invertAxes,gap:o.gap,spacing:o.spacing}),s.append(p)),l&&(s.updateRange(u,n,r),p.append(l),r.type==rt&&u.open>u.close&&(f=e.fields.downColor||r.downColor),l.color=f,l.categoryIx=n,l.category=t,l.series=r,l.seriesIx=i,l.owner=s,l.dataItem=r.data[n]),s.points.push(l)},createPoint:function(e,t){return new Qn(e,t)},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t,n){var r=this,i=n.axis,s=r.valueAxisRanges[i],u=r.splitValue(e);s=r.valueAxisRanges[i]=s||{min:Dt,max:Pt},s=r.valueAxisRanges[i]={min:o.min.apply(o,u.concat([s.min])),max:o.max.apply(o,u.concat([s.max]))}},formatPointValue:function(e,t){var n=e.value;return B(t,n.open,n.high,n.low,n.close,e.category)}}),Yn=Qn.extend({reflow:function(e){var t=this,n=t.options,r=t.owner,i=t.value,s=r.seriesValueAxis(n),o=[],u=[],a=[],f,l,c,h;h=s.getSlot(i.low,i.high),l=s.getSlot(i.open,i.open),c=s.getSlot(i.close,i.close),l.x1=c.x1=h.x1=e.x1,l.x2=c.x2=h.x2=e.x2,f=h.center().x,o.push(new L(l.x1,l.y1)),o.push(new L(f,l.y1)),u.push(new L(f,c.y1)),u.push(new L(c.x2,c.y1)),a.push(new L(f,h.y1)),a.push(new L(f,h.y2)),t.oPoints=o,t.cPoints=u,t.lhPoints=a,t.box=h.clone().wrap(l.clone().wrap(c))},getViewElements:function(e){var t=this,n=t.options,r=[],i={id:n.id,strokeOpacity:n.opacity,zIndex:-1,strokeWidth:n.width,stroke:t.color,dashType:n.dashType},s=e.createGroup({animation:{type:ft}});return r.push(t.createOverlayRect(e,n)),r.push(e.createPolyline(t.oPoints,!0,i)),r.push(e.createPolyline(t.cPoints,!0,i)),r.push(e.createPolyline(t.lhPoints,!0,i)),H(r,T.fn.getViewElements.call(t,e)),s.children=r,[s]},highlightOverlay:function(e,t){var n=this,r=n.options,i=r.highlight,s={data:{modelId:r.modelId}},o=m(s,{strokeWidth:i.line.width,strokeOpacity:i.line.opacity,stroke:n.color}),u=e.createGroup();return u.children.push(e.createPolyline(n.oPoints,!0,o)),u.children.push(e.createPolyline(n.cPoints,!0,o)),u.children.push(e.createPolyline(n.lhPoints,!0,o)),u}}),Zn=Gn.extend({createPoint:function(e,t){return new Yn(e,t)},bindableFields:function(){return["color"]}}),er=T.extend({init:function(e,t,n){var r=this;r.value=e,r.sector=t,r.enableDiscovery(),T.fn.init.call(r,n)},options:{color:gn,overlay:{gradient:$t},border:{width:.5},labels:{visible:!1,distance:35,font:mt,margin:F(.5),align:ut,zIndex:1,position:Rt},animation:{type:zt},highlight:{visible:!0,border:{width:1}}},render:function(){var e=this,t=e.options,n=t.labels,r=e.value,i;if(e._rendered)return;e._rendered=!0,n.template?(i=v(n.template),r=i({dataItem:e.dataItem,category:e.category,value:e.value,series:e.series,percentage:e.percentage})):n.format&&(r=B(n.format,r)),n.visible&&r&&(e.label=new _(r,m({},n,{id:W(),align:st,vAlign:"",animation:{type:xt,delay:e.animationDelay}})),e.append(e.label))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e=this,t=e.sector.clone(),n=e.options,r=e.label,i=n.labels,s=i.distance,u,a,f=t.middle(),l,c;r&&(c=r.box.height(),l=r.box.width(),i.position==st?(t.r=o.abs((t.r-c)/2)+c,u=t.point(f),r.reflow(new S(u.x,u.y-c/2,u.x,u.y))):i.position==Lt?(t.r=t.r-c/2,u=t.point(f),r.reflow(new S(u.x,u.y-c/2,u.x,u.y))):(u=t.clone().expand(s).point(f),u.x>=t.c.x?(a=u.x+l,r.orientation=Vt):(a=u.x-l,r.orientation=Ot),r.reflow(new S(a,u.y-c,u.x,u.y))))},getViewElements:function(e){var t=this,n=t.sector,r=t.options,i=r.border||{},s=i.width>0?{stroke:i.color,strokeWidth:i.width,dashType:i.dashType}:{},o=[],u=r.overlay;return u&&(u=m({},r.overlay,{r:n.r,ir:n.ir,cx:n.c.x,cy:n.c.y,bbox:n.getBBox()})),t.value&&o.push(t.createSegment(e,n,m({id:r.id,fill:r.color,overlay:u,fillOpacity:r.opacity,strokeOpacity:r.opacity,animation:m(r.animation,{delay:t.animationDelay}),data:{modelId:r.modelId},zIndex:r.zIndex,singleSegment:(t.options.data||[]).length===1},s))),H(o,T.fn.getViewElements.call(t,e)),o},createSegment:function(e,t,n){return n.singleSegment?e.createCircle(t.c,t.r,n):e.createSector(t,n)},highlightOverlay:function(e,t){var n=this,r=n.options.highlight||{},i=r.border||{},s=n.options.id+Ut,o;return t=m({},t,{id:s}),n.value!==0&&(o=n.createSegment(e,n.sector,m({},t,{fill:r.color,fillOpacity:r.opacity,strokeOpacity:i.opacity,strokeWidth:i.width,stroke:i.color,data:{modelId:n.options.modelId}}))),o},tooltipAnchor:function(e,t){var n=this,r=n.sector.clone().expand(15),i=e/2,s=t/2,u=r.middle(),a=u*wt,f=r.point(u),l=f.x-i,c=f.y-s,h=o.sin(a),p=o.cos(a);return o.abs(h)<.9&&(l+=i*-p/o.abs(p)),o.abs(p)<.9&&(c+=s*-h/o.abs(h)),new L(l,c)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});m(er.fn,Hn);var tr=T.extend({init:function(e,t){var n=this;T.fn.init.call(n,t),n.plotArea=e,n.segments=[],n.legendItems=[],n.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},render:function(){var e=this;e.traverseDataPoints(a(e.addValue,e))},traverseDataPoints:function(e){var t=this,n=t.options,r=t.plotArea.options.seriesColors||[],i=n.startAngle,s=r.length,o=n.series,u=o.length,a=W(),f=t.bindableFields(),l,c,h,p,d,v,m,g,y,b,w,E;for(p=0;p<u;p++){l=o[p],v=l.data,b=t.pointsTotal(l),m=360/b,w=i,p!=u-1&&l.labels.position==Rt&&(l.labels.position=st);for(E=0;E<v.length;E++)c=Xr(l,E,f),g=c.value,h=c.fields,d=U(g*m,yt),y=v.length!=1&&!!h.explode,l.color=h.color||r[E%s],e(g,new O(null,0,0,w,d),{owner:t,category:h.category||"",categoryIx:E,series:l,seriesIx:p,dataItem:v[E],percentage:g/b,explode:y,visibleInLegend:h.visibleInLegend,overlay:{id:a+p},zIndex:u-p,animationDelay:t.animationDelay(E,p,u)}),w+=d}},bindableFields:function(){return["category","color","explode","visibleInLegend"]},addValue:function(e,t,n){var r=this,i;r.createLegendItem(e,n);if(!e)return;i=new er(e,t,n.series),i.options.id=W(),u(i,n),r.append(i),r.segments.push(i)},createLegendItem:function(e,t){var n=this,r=(n.options.legend||{}).labels||{},i,s;t&&t.visibleInLegend!==!1&&(i=t.category||"",(r||{}).template&&(s=v(r.template),i=s({text:i,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:e})),n.legendItems.push({name:i,color:t.series.color}))},pointsTotal:function(e){var t=e.data,n=t.length,r=0,i;for(i=0;i<n;i++)r+=Xr(e,i).value;return r},reflow:function(e){var t=this,n=t.options,r=e.clone(),i=5,s=o.min(r.width(),r.height()),u=s/2,a=s-s*.85,f=j(n.padding)?n.padding:a,l=new S(r.x1,r.y1,r.x1+s,r.y1+s),c=l.center(),h=t.seriesConfigs||[],p=r.center(),d=t.segments,v=d.length,m=n.series.length,g=[],y=[],b,w,E,x,T,N,C,k;f=f>u-i?u-i:f,l.translate(p.x-c.x,p.y-c.y),N=u-f,k=new L(N+l.x1+f,N+l.y1+f);for(C=0;C<v;C++)x=d[C],T=x.sector,T.r=N,T.c=k,w=x.seriesIx,h.length&&(b=h[w],T.ir=b.ir,T.r=b.r),w==m-1&&x.explode&&(T.c=T.clone().radius(T.r*.15).point(T.middle())),x.reflow(l),E=x.label,E&&E.options.position===Rt&&w==m-1&&(E.orientation===Vt?y.push(E):g.push(E));g.length>0&&(g.sort(t.labelComparator(!0)),t.leftLabelsReflow(g)),y.length>0&&(y.sort(t.labelComparator(!1)),t.rightLabelsReflow(y)),t.box=l},leftLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},rightLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},distanceBetweenLabels:function(e){var t=this,n=t.segments,r=n[n.length-1],i=r.sector,s=e[0].box,o,u=e.length-1,a=[],f,l=i.r+r.options.labels.distance,c;f=U(s.y1-(i.c.y-l-s.height()-s.height()/2)),a.push(f);for(c=0;c<u;c++)s=e[c].box,o=e[c+1].box,f=U(o.y1-s.y2),a.push(f);return f=U(i.c.y+l-e[u].box.y2-e[u].box.height()/2),a.push(f),a},distributeLabels:function(e,t){var n=this,r=e.length,i,s,o,u;for(u=0;u<r;u++){s=o=u,i=-e[u];while(i>0&&(s>=0||o<r))i=n._takeDistance(e,u,--s,i),i=n._takeDistance(e,u,++o,i)}n.reflowLabels(e,t)},_takeDistance:function(e,t,n,r){if(e[n]>0){var i=o.min(e[n],r);r-=i,e[n]-=i,e[t]+=i}return r},reflowLabels:function(e,t){var n=this,r=n.segments,i=r[r.length-1],s=i.sector,o=t.length,u=i.options.labels,a=u.distance,f=s.c.y-(s.r+a)-t[0].box.height(),l,c,h,p;e[0]+=2;for(p=0;p<o;p++)l=t[p],f+=e[p],h=l.box,c=n.hAlignLabel(h.x2,s.clone().expand(a),f,f+h.height(),l.orientation==Vt),l.orientation==Vt?(u.align!==ut&&(c=s.r+s.c.x+a),l.reflow(new S(c+h.width(),f,c,f))):(u.align!==ut&&(c=s.c.x-s.r-a),l.reflow(new S(c-h.width(),f,c,f))),f+=h.height()},getViewElements:function(e){var t=this,n=t.options,r=n.connectors,i=t.segments,s,u,a=i.length,f=4,l,c=[],h,p,d,v,m;for(m=0;m<a;m++){p=i[m],u=p.sector,l=u.middle(),v=p.label,d={seriesId:p.seriesIx};if(v){h=[];if(v.options.position===Rt&&p.value!==0){var g=v.box,y=u.c,b=u.point(l),w=new L(g.x1,g.center().y),E,S,x;b=u.clone().expand(r.padding).point(l),h.push(b),v.orientation==Vt?(S=new L(g.x1-r.padding,g.center().y),x=Tr(y,b,w,S),w=new L(S.x-f,S.y),x=x||w,x.x=o.min(x.x,w.x),t.pointInCircle(x,u.c,u.r+f)||x.x<u.c.x?(E=u.c.x+u.r+f,p.options.labels.align!==lt?E<w.x?h.push(new L(E,b.y)):h.push(new L(b.x+f*2,b.y)):h.push(new L(E,b.y)),h.push(new L(w.x,S.y))):(x.y=S.y,h.push(x))):(S=new L(g.x2+r.padding,g.center().y),x=Tr(y,b,w,S),w=new L(S.x+f,S.y),x=x||w,x.x=o.max(x.x,w.x),t.pointInCircle(x,u.c,u.r+f)||x.x>u.c.x?(E=u.c.x-u.r-f,p.options.labels.align!==lt?E>w.x?h.push(new L(E,b.y)):h.push(new L(b.x-f*2,b.y)):h.push(new L(E,b.y)),h.push(new L(w.x,S.y))):(x.y=S.y,h.push(x))),h.push(S),s=e.createPolyline(h,!1,{id:W(),stroke:r.color,strokeWidth:r.width,animation:{type:xt,delay:p.animationDelay},data:{modelId:p.options.modelId}}),c.push(s)}}}return H(c,T.fn.getViewElements.call(t,e)),c},labelComparator:function(e){return e=e?-1:1,function(t,n){return t=(t.parent.sector.middle()+270)%360,n=(n.parent.sector.middle()+270)%360,(t-n)*e}},hAlignLabel:function(e,t,n,r,i){var s=t.c.x,u=t.c.y,a=t.r,f=o.min(o.abs(u-n),o.abs(u-r));return f>a?e:s+o.sqrt(a*a-f*f)*(i?1:-1)},pointInCircle:function(e,t,n){return Dr(t.x-e.x)+Dr(t.y-e.y)<Dr(n)},formatPointValue:function(e,t){return B(t,e.value)},animationDelay:function(e,t,n){return e*Wt}}),nr=er.extend({options:{overlay:{gradient:Jt},labels:{position:st},animation:{type:zt}},reflowLabel:function(){var e=this,t=e.sector.clone(),n=e.options,r=e.label,i=n.labels,s,o=t.middle(),u;r&&(u=r.box.height(),i.position==st?(t.r-=(t.r-t.ir)/2,s=t.point(o),r.reflow(new S(s.x,s.y-u/2,s.x,s.y))):er.fn.reflowLabel.call(e))},createSegment:function(e,t,n){return e.createRing(t,n)}});m(nr.fn,Hn);var rr=tr.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,n){var r=this,i;r.createLegendItem(e,n);if(!e)return;i=new nr(e,t,n.series),i.options.id=W(),u(i,n),r.append(i),r.segments.push(i)},reflow:function(e){var t=this,n=t.options,r=e.clone(),i=5,s=o.min(r.width(),r.height()),u=s/2,a=s-s*.85,f=j(n.padding)?n.padding:a,l=n.series,c,h=l.length,p=0,d,v,m,g=0,y,b,w=0,E=0;t.seriesConfigs=[],f=f>u-i?u-i:f,v=u-f;for(y=0;y<h;y++)c=l[y],y===0&&j(c.holeSize)&&(d=c.holeSize,v-=c.holeSize),j(c.size)?v-=c.size:p++,j(c.margin)&&y!=h-1&&(v-=c.margin);j(d)||(E=(u-f)/(h+.75),d=E*.75,v-=d),w=d;for(y=0;y<h;y++)c=l[y],m=j(c.size)?c.size:v/p,w+=g,b=w+m,t.seriesConfigs.push({ir:w,r:b}),g=c.margin||0,w=b;tr.fn.reflow.call(t,e)},animationDelay:function(e,t,n){return e*St+Ct*(t+1)/(n+1)}}),ir=x.extend({init:function(e){var t=this;x.fn.init.call(t,e),e=t.options,e.id=W(),t.title=D.buildTitle(e.title,t,ir.fn.options.title),t.content=new T,t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:Ot}},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.charts.push(e),t.content.append(e),e.pane=t},empty:function(){var e=this;e.content.disableDiscovery(),e.content.children=[],e.axes=[],e.charts=[]},reflow:function(e){var t=this;R(t.children)===t.content&&t.children.pop(),x.fn.reflow.call(t,e),t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(e){var t=this,n=jn.fn.getViewElements.call(t,e),r=e.createGroup({id:t.options.id});return r.children=n.concat(t.renderGridLines(e),t.content.getViewElements(e)),t.view=e,[r]},renderGridLines:function(e){var t=this,n=t.axes,r=n.concat(t.parent.axes),i=[],s=[],o,u,a,f,l,c;for(u=0;u<n.length;u++){f=n[u],l=f.options.vertical,o=l?i:s;for(a=0;a<r.length;a++)o.length===0&&(c=r[a],l!==c.options.vertical&&H(o,f.renderGridLines(e,c,f)))}return i.concat(s)},refresh:function(){var e=this,t=e.view,n=document.getElementById(e.options.id);t&&n&&n.parentNode.replaceChild(t.renderElement(e.getViewElements(t)[0]),n)}}),sr=T.extend({init:function(e,t){var n=this;T.fn.init.call(n,t),n.series=e,n.charts=[],n.options.legend.items=[],n.axes=[],n.options.id=W(),n.enableDiscovery(),n.createPanes(),n.render()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:et,width:0},legend:{}},createPanes:function(){var e=this,t=[],n=e.options.panes||[],r,i=o.max(n.length,1),s;for(r=0;r<i;r++)s=new ir(n[r]),t.push(s),e.append(s);e.panes=t},findPane:function(e){var t=this,n=t.panes,r,i;for(r=0;r<n.length;r++)if(n[r].options.name===e){i=n[r];break}return i||n[0]},appendAxis:function(e){var t=this,n=t.findPane(e.options.pane);n.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t=this,n,r,i=[];for(n=0;n<t.axes.length;n++)r=t.axes[n],e!==r&&i.push(r);t.axes=i},appendChart:function(e,t){var n=this;n.charts.push(e),n.addToLegend(e),t?t.appendChart(e):n.append(e)},removeChart:function(e){var t=this,n,r,i=[];for(n=0;n<t.charts.length;n++)r=t.charts[n],r!==e&&i.push(r);t.charts=i},addToLegend:function(e){var t=e.options.series,n=t.length,r=[],i,s,o,u,a=this.options.legend.labels||{};if(e.legendItems)r=e.legendItems;else for(i=0;i<n;i++)s=t[i],s.visibleInLegend!==!1&&(o=s.name||"",a.template&&(u=v(a.template),o=u({text:o,series:s})),r.push({name:o,color:s.color}));H(this.options.legend.items,r)},reflow:function(e,t){var n=this,r=n.options.plotArea,i=F(r.margin);n.box=e.clone().unpad(i),n.reflowPanes(),n.axes.length>0&&n.reflowAxes(),n.reflowCharts(t)},redrawPane:function(e){var t=this,n;for(n=0;n<e.axes.length;n++)t.removeAxis(e.axes[n]);for(n=0;n<e.charts.length;n++)t.removeChart(e.charts[n]);e.empty(),t.render(e),t.reflow(t.box,e),e.refresh()},axisCrossingValues:function(e,t){var n=e.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue),i=t.length-r.length,s=r[0]||0,o;for(o=0;o<i;o++)r.push(s);return r},alignAxisTo:function(e,t,n,r){var i=e.getSlot(n,n),s=e.options.reverse?2:1,o=t.getSlot(r,r),u=t.options.reverse?2:1,a=e.box.translate(o[yn+u]-i[yn+s],o[bn+u]-i[bn+s]);e.pane!==t.pane&&a.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(a)},alignAxes:function(e,t){var n=this,r=e[0],i=t[0],s=n.axisCrossingValues(r,t),o=n.axisCrossingValues(i,e),u={},a={},f={},l={},c,h,p,d;for(d=0;d<t.length;d++)p=t[d],c=p.pane,h=c.options.id,n.alignAxisTo(p,r,o[d],s[d]),U(p.lineBox().x1)===U(r.lineBox().x1)&&(u[h]&&p.reflow(p.box.alignTo(u[h].box,Ot).translate(-p.options.margin,0)),u[h]=p),U(p.lineBox().x2)===U(r.lineBox().x2)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),n.alignAxisTo(p,r,o[d],s[d]),a[h]&&p.reflow(p.box.alignTo(a[h].box,Vt).translate(p.options.margin,0)),a[h]=p),d!==0&&i.pane===p.pane&&p.alignTo(i);for(d=0;d<e.length;d++)p=e[d],c=p.pane,h=c.options.id,n.alignAxisTo(p,i,s[d],o[d]),U(p.lineBox().y1)===U(i.lineBox().y1)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),n.alignAxisTo(p,i,s[d],o[d]),f[h]&&p.reflow(p.box.alignTo(f[h].box,fn).translate(0,-p.options.margin)),f[h]=p),U(p.lineBox().y2,ct)===U(i.lineBox().y2,ct)&&(l[h]&&p.reflow(p.box.alignTo(l[h].box,tt).translate(0,p.options.margin)),l[h]=p),d!==0&&p.alignTo(r)},shrinkAxisWidth:function(){var e=this,t=e.panes,n=e.axes,r=Gr(n),i=0,s,u,a;for(s=0;s<t.length;s++)u=t[s],u.axes.length>0&&(i=o.max(i,r.width()-u.contentBox.width()));for(s=0;s<n.length;s++)a=n[s],a.options.vertical||a.reflow(a.box.shrink(i,0))},shrinkAxisHeight:function(){var e=this,t=e.panes,n,r,i,s,u,a;for(n=0;n<t.length;n++){r=t[n],i=r.axes,s=o.max(0,Gr(i).height()-r.contentBox.height());for(u=0;u<i.length;u++)a=i[u],a.options.vertical&&a.reflow(a.box.shrink(0,s))}},fitAxes:function(){var e=this,t=e.panes,n=e.axes,r,i,s,u=0,a,f,l,c,h;for(c=0;c<t.length;c++){f=t[c],r=f.axes,i=f.contentBox;if(r.length>0){s=Gr(r),u=o.max(u,i.x1-s.x1),a=o.max(i.y1-s.y1,i.y2-s.y2);for(h=0;h<r.length;h++)l=r[h],l.reflow(l.box.translate(0,a))}}for(c=0;c<n.length;c++)l=n[c],l.reflow(l.box.translate(u,0))},reflowAxes:function(){var e=this,t=e.panes,n,i=e.axes,s=r(i,function(e){return!e.options.vertical}),o=r(i,function(e){return e.options.vertical});for(n=0;n<t.length;n++)e.reflowPaneAxes(t[n]);e.alignAxes(s,o),e.shrinkAxisWidth(),e.alignAxes(s,o),e.shrinkAxisHeight(),e.alignAxes(s,o),e.fitAxes()},reflowPaneAxes:function(e){var t=e.axes,n,r=t.length;if(r>0)for(n=0;n<r;n++)t[n].reflow(e.contentBox)},reflowCharts:function(e){var t=this,n=t.charts,r=n.length,i=t.box,s;for(s=0;s<r;s++)(!e||n[s].pane==e)&&n[s].reflow(i)},reflowPanes:function(){var e=this,t=e.box,n=e.panes,r,i=n.length,s,o,u=t.height(),a=i,f=0,l=t.y1,c,h;for(r=0;r<i;r++)s=n[r],c=s.options.height,s.options.width=t.width(),s.options.height?(c.indexOf&&c.indexOf("%")&&(h=parseInt(c,10)/100,s.options.height=h*t.height()),s.reflow(t.clone()),u-=s.options.height):f++;for(r=0;r<i;r++)s=n[r],s.options.height||(s.options.height=u/f);for(r=0;r<i;r++)s=n[r],o=t.clone().move(t.x1,l),s.reflow(o),a--,l+=s.options.height},backgroundBox:function(){var e=this,t=e.axes,n=t.length,r,i,s,o,u,a;for(s=0;s<n;s++){u=t[s];for(o=0;o<n;o++)a=t[o],u.options.vertical!==a.options.vertical&&(r=u.lineBox().clone().wrap(a.lineBox()),i?i=i.wrap(r):i=r)}return i||e.box},getViewElements:function(e){var t=this,n=t.backgroundBox(),r=t.options,i=r.plotArea,s=i.border||{},o=T.fn.getViewElements.call(t,e);return H(o,[e.createRect(n,{fill:i.background,fillOpacity:i.opacity,zIndex:-2,strokeWidth:.1}),e.createRect(n,{id:r.id,data:{modelId:r.modelId},stroke:s.width?s.color:"",strokeWidth:s.width,fill:gn,fillOpacity:0,zIndex:-1,dashType:s.dashType})]),o}}),or=sr.extend({init:function(e,t){var n=this,r=m({},n.options,t);n.namedCategoryAxes={},n.namedValueAxes={},n.valueAxisRangeTracker=new ur(r.valueAxis),e.length>0&&(n.invertAxes=I(e[0].type,[G,vn,dn])),sr.fn.init.call(n,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;t.createCategoryAxes(e),t.aggregateDateSeries(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,n=e.options.name;sr.fn.removeAxis.call(t,e),e instanceof An?delete t.namedCategoryAxes[n]:(t.valueAxisRangeTracker.reset(n),delete t.namedValueAxes[n]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t=this,n=t.series,r={},i=[],s,o,u,a,f=t.panes[0],l;for(s=0;s<n.length;s++){u=n[s],o=t.seriesPaneName(u),l=o==="default"&&f===e;if(!e||l||e.options.name===o)I(o,i)||i.push(o),r[o]?r[o].push(u):r[o]=[u]}for(s=0;s<i.length;s++)a=r[i[s]],o=t.findPane(i[s]),t.createAreaChart(t.filterSeriesByType(a,[$,dn]),o),t.createBarChart(t.filterSeriesByType(a,[lt,G]),o),t.createLineChart(t.filterSeriesByType(a,[Mt,vn]),o),t.createCandlestickChart(t.filterSeriesByType(a,[rt]),o),t.createOHLCChart(t.filterSeriesByType(a,[qt]),o)},filterSeriesByType:function(e,t){var n,r,i=[];for(n=0;n<e.length;n++)r=e[n],I(r.type,t)&&i.push(r);return i},aggregateDateSeries:function(e){var t=this,n=t.srcSeries||t.series,r=[],i,s,o,u,a,f,l,c,h,p,d,v,g,y,b,w,E;for(l=0;l<n.length;l++){c=n[l],h=m({},c),i=t.seriesCategoryAxis(c),s=t.findPane(i.options.pane),y=!e||e===s;if(y&&Yr(i.options.type,pt)){o=i.options.categories,u=i.categoryMap,p=h.data,h.data=d=[];for(a=0;a<o.length;a++){f=u[a],v=[];for(g=0;g<f.length;g++)b=f[g],w=Xr(c,b),E=w.value,j(E)&&v.push(w.value);v.length>1?d[a]=wr(v,c):d[a]=p[f[0]]}}r.push(h)}t.srcSeries=n,t.series=r},appendChart:function(e,t){var n=this,r=e.options.series,i=n.seriesCategoryAxis(r[0]),s=i.options.categories,u=o.max(0,_r(r)-s.length);while(u--)s.push("");n.valueAxisRangeTracker.update(e.valueAxisRanges),sr.fn.appendChart.call(n,e,t)},seriesPaneName:function(t){var n=this,r=n.options,i=t.axis,s=[].concat(r.valueAxis),o=e.grep(s,function(e){return e.name===i})[0],u=(o||{}).pane||"default";return u},seriesCategoryAxis:function(e){var t=this,n=e.categoryAxis,r=n?t.namedCategoryAxes[n]:t.categoryAxis;if(!r)throw new Error("Unable to locate category axis with name "+n);return r},createBarChart:function(e){if(e.length===0)return;var t=this,n=e[0],r=new Fn(t,{series:e,invertAxes:t.invertAxes,isStacked:n.stack&&e.length>1,gap:n.gap,spacing:n.spacing});t.appendChart(r)},createLineChart:function(e,t){if(e.length===0)return;var n=this,r=e[0],i=new Wn(n,{invertAxes:n.invertAxes,isStacked:r.stack&&e.length>1,series:e});n.appendChart(i,t)},createAreaChart:function(e,t){if(e.length===0)return;var n=this,r=e[0],i=new Vn(n,{invertAxes:n.invertAxes,isStacked:r.stack&&e.length>1,series:e});n.appendChart(i,t)},createOHLCChart:function(e,t){if(e.length===0)return;var n=this,r=e[0],i=new Zn(n,{invertAxes:n.invertAxes,gap:r.gap,series:e,spacing:r.spacing});n.appendChart(i,t)},createCandlestickChart:function(e,t){if(e.length===0)return;var n=this,r=e[0],i=new Gn(n,{invertAxes:n.invertAxes,gap:r.gap,series:e,spacing:r.spacing});n.appendChart(i,t)},axisRequiresRounding:function(e,t){var n=this,r=n.filterSeriesByType(n.series,[G,lt,qt,rt]),i,s;for(i=0;i<r.length;i++){s=r[i].categoryAxis||"";if(s===e||!s&&t===0)return!0}},createCategoryAxes:function(e){var t=this,n=t.invertAxes,r=[].concat(t.options.categoryAxis),i,s,o,u,a,f,l,c,h=[],p;for(i=0;i<r.length;i++){s=r[i],o=t.findPane(s.pane);if(!e||e===o){f=s.name,u=s.categories||[],l=u[0]instanceof Date,a=s.type||"",s=m({vertical:n,axisCrossingValue:n?u.length:0},s),t.axisRequiresRounding(f,i)&&(s.justified=!1,s.roundToBaseUnit=!0),!a&&l||Yr(a,pt)?c=new Mn(s):c=new An(s);if(f){if(t.namedCategoryAxes[f])throw new Error("Category axis with name "+f+" is already defined");t.namedCategoryAxes[f]=c}c.axisIndex=i,h.push(c),t.appendAxis(c)}}p=t.categoryAxis||h[0],t.categoryAxis=p,n?t.axisY=p:t.axisX=p},createValueAxes:function(e){var t=this,n=[].concat(t.options.valueAxis),r=t.invertAxes,i={vertical:!r},s,o,u,a,f=[],l,c,h;for(h=0;h<n.length;h++){s=n[h],o=t.findPane(s.pane);if(!e||e===o){c=s.name,l=t.valueAxisRangeTracker.query(c),u=new k(l.min,l.max,m({},i,s));if(c){if(t.namedValueAxes[c])throw new Error("Value axis with name "+c+" is already defined");t.namedValueAxes[c]=u}f.push(u),t.appendAxis(u)}}a=t.valueAxis||f[0],t.valueAxis=a,r?t.axisX=a:t.axisY=a},click:function(t,n){var r=this,i=t._eventCoordinates(n),s=new L(i.x,i.y),o=r.pointPane(s),u,a,f,l=[],c=[];if(!o)return;u=o.axes;for(a=0;a<u.length;a++)f=u[a],f.getValue?ti(c,f.getValue(s)):ti(l,f.getCategory(s));l.length===0&&ti(l,r.categoryAxis.getCategory(s)),l.length>0&&c.length>0&&t.trigger(Xt,{element:e(n.target),category:Kr(l),value:Kr(c)})},pointPane:function(e){var t=this,n=t.panes,r,i;for(i=0;i<n.length;i++){r=n[i];if(r.contentBox.containsPoint(e))return r}}}),ur=c.extend({init:function(e){var t=this;t.axisRanges={},t.axisOptions=[].concat(e),t.defaultRange={min:0,max:1}},update:function(e){var t=this,n=t.axisRanges,r=t.axisOptions,i,s,u,a,f,l=r.length;if(!e)return;for(u=0;u<l;u++)a=r[u],f=a.name,i=n[f],s=e[f],s&&(n[f]=i=i||{min:Dt,max:Pt},i.min=o.min(i.min,s.min),i.max=o.max(i.max,s.max))},reset:function(e){delete this.axisRanges[e]},query:function(e){var t=this;return t.axisRanges[e]||m({},t.defaultRange)}}),ar=sr.extend({init:function(e,t){var n=this,r=m({},n.options,t);n.namedXAxes={},n.namedYAxes={},n.xAxisRangeTracker=new ur(r.xAxis),n.yAxisRangeTracker=new ur(r.yAxis),sr.fn.init.call(n,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t=this,n=t.series;t.createScatterChart(r(n,function(e){return e.type===Kt}),e),t.createScatterLineChart(r(n,function(e){return e.type===Qt}),e),t.createBubbleChart(r(n,function(e){return e.type===nt}),e),t.createAxes(e)},appendChart:function(e,t){var n=this;n.xAxisRangeTracker
.update(e.xAxisRanges),n.yAxisRangeTracker.update(e.yAxisRanges),sr.fn.appendChart.call(n,e,t)},removeAxis:function(e){var t=this,n=e.options.name;sr.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(n),delete t.namedYAxes[n]):(t.xAxisRangeTracker.reset(n),delete t.namedXAxes[n]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},createScatterChart:function(e,t){var n=this;e.length>0&&n.appendChart(new $n(n,{series:e}),t)},createScatterLineChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Jn(n,{series:e}),t)},createBubbleChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Kn(n,{series:e}),t)},createXYAxis:function(e,t){var n=this,r=e.name,i=t?n.namedYAxes:n.namedXAxes,s=t?n.yAxisRangeTracker:n.xAxisRangeTracker,o=s.query(r),u=m({},e,{vertical:t}),a,f,l=n.series,c,h,p;for(f=0;f<l.length;f++){c=l[f];if(c[t?"yAxis":"xAxis"]==u.name){h=Xr(c,0).value,p=h[t?"y":"x"]instanceof Date;break}}Yr(u.type,pt)||!u.type&&p?a=new _n(o.min,o.max,u):a=new k(o.min,o.max,u);if(r){if(i[r])throw new Error((t?"Y":"X")+" axis with name "+r+" is already defined");i[r]=a}return n.appendAxis(a),a},createAxes:function(e){var t=this,r=t.options,i=[].concat(r.xAxis),s=[],o=[].concat(r.yAxis),u=[];n(i,function(){var n=t.findPane(this.pane);(!e||e===n)&&s.push(t.createXYAxis(this,!1))}),n(o,function(){var n=t.findPane(this.pane);(!e||e===n)&&u.push(t.createXYAxis(this,!0))}),t.axisX=t.axisX||s[0],t.axisY=t.axisY||u[0]},click:function(t,n){var r=this,i=t._eventCoordinates(n),s=new L(i.x,i.y),o=r.axes,u,a=o.length,f,l=[],c=[],h,p;for(u=0;u<a;u++)f=o[u],p=f.options.vertical?c:l,h=f.getValue(s),h!==null&&p.push(h);l.length>0&&c.length>0&&t.trigger(Xt,{element:e(n.target),x:Kr(l),y:Kr(c)})}}),fr=sr.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,n=e[0],r=new tr(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(r)}}),lr=fr.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,n=e[0],r=new rr(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(r)}}),cr=C.extend({options:{easing:"easeOutElastic",duration:Ct},setup:function(){var e=this.element,t=e.config,n;e.options.singleSegment&&(t=e),this.endRadius=t.r,n=this.startRadius=t.ir||0,t.r=n},step:function(e){var t=this,n=t.element,r=t.endRadius,i=n.config,s=t.startRadius;n.options.singleSegment&&(i=n),i.r=q(s,r,e)}}),hr=C.extend({options:{easing:"easeOutElastic",duration:Ct},setup:function(){var e=this.element;e.endRadius=e.radius,e.radius=0},step:function(e){var t=this.element,n=t.endRadius;t.radius=q(0,n,e)}}),pr=P(G,E),dr=P(zt,cr),vr=P(nt,hr),mr=c.extend({init:function(e,t,n){var r=this;r.options=m({},r.options,n),r.view=e,r.viewElement=t},options:{fill:gn,fillOpacity:.2,stroke:gn,strokeWidth:1,strokeOpacity:.2},show:function(e){var t=this,n=t.view,r=t.viewElement,i,s;t.hide(),e.highlightOverlay&&(i=e.highlightOverlay(n,t.options),i&&(s=n.renderElement(i),r.appendChild(s),t.overlayElement=s,t.visible=!0)),e.toggleHighlight&&(e.toggleHighlight(n),t.point=e,t.visible=!0)},hide:function(){var e=this,t=e.overlayElement;t&&(t.parentNode&&t.parentNode.removeChild(t),delete e.overlayElement),e.point&&(e.point.toggleHighlight(e.view),delete e.point),e.visible=!1}}),gr=c.extend({init:function(t,n){var r=this;r.options=m({},r.options,n),n=r.options,r.chartElement=t,r.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},r.template=gr.template,r.template||(r.template=gr.template=z("<div class='"+X+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),r.element=e(r.template(r.options)).appendTo(t)},options:{background:et,color:gn,border:{width:3},opacity:1,animation:{duration:ln}},show:function(e){var t=this;t.point=e,t.showTimeout=setTimeout(a(t._show,t),hn)},_show:function(){var e=this,t=e.point,n=e.element,r=e.options,i=e.chartPadding,s,o,u,a,f,l;if(!t)return;u=t.value.toString(),a=m({},e.options,t.options.tooltip),a.template?(o=v(a.template),u=o({value:t.value,category:t.category,series:t.series,dataItem:t.dataItem,percentage:t.percentage})):a.format&&(u=t.formatValue(a.format)),n.html(u),s=t.tooltipAnchor(n.outerWidth(),n.outerHeight()),f=U(s.y+i.top)+"px",l=U(s.x+i.left)+"px",e.visible||e.element.css({top:f,left:l}),e.element.css({backgroundColor:a.background,borderColor:a.border.color||t.options.color,font:a.font,color:a.color,opacity:a.opacity,borderWidth:a.border.width}).stop(!0,!0).show().animate({left:l,top:f},r.animation.duration),e.visible=!0},hide:function(){var e=this;clearTimeout(e.showTimeout),e.visible&&(e.element.fadeOut(),e.point=null,e.visible=!1)}}),yr={max:function(e){var t=o.max.apply(o,e);return isNaN(t)?Sr(e):t},min:function(e){var t=o.min.apply(o,e);return isNaN(t)?Er(e):t},sum:function(e){var t,n=e.length,r=0,i;for(t=0;t<n;t++)i=e[t],j(i)&&!isNaN(i)&&(r+=i);return r},count:function(e){return e.length},avg:function(e){return yr.sum(e)/yr.count(e)}},br=h.extend({init:function(t,n,r){var i=this,s=n.lineBox(),o=i.getValueAxis(n),u=o.lineBox(),f="."+X,c;h.fn.init.call(i),i.options=m({},i.options,r),r=i.options,i.chartElement=t,i.categoryAxis=n,i.valueAxis=o,i.template=br.template,i.template||(i.template=br.template=z("<div class='"+X+"selector' "+"style='width: #= d.width #px; height: #= d.height #px;"+" top: #= d.offset.top #px; left: #= d.offset.left #px;'>"+"<div class='"+X+"mask'></div>"+"<div class='"+X+"mask'></div>"+"<div class='"+X+"selection'>"+"<div class='"+X+"handle "+X+"leftHandle'><div></div></div>"+"<div class='"+X+"handle "+X+"rightHandle'><div></div></div>"+"</div></div>"));var p=parseInt(t.css("paddingLeft"),10),d=parseInt(t.css("paddingTop"),10);i.options=m({},{width:s.width(),height:u.height(),padding:{left:p,top:d},offset:{left:u.x2+p,top:u.y1+d},start:r.min,end:r.max},r),i.wrapper=c=e(i.template(i.options)).appendTo(t),i.selection=c.find(f+"selection"),i.leftMask=c.find(f+"mask").first(),i.rightMask=c.find(f+"mask").last(),i.leftHandle=c.find(f+"leftHandle"),i.rightHandle=c.find(f+"rightHandle"),i.options.selection={border:{left:parseFloat(i.selection.css("border-left-width"),10),right:parseFloat(i.selection.css("border-right-width"),10)}},i.leftHandle.css("top",(i.selection.height()-i.leftHandle.height())/2),i.rightHandle.css("top",(i.selection.height()-i.rightHandle.height())/2),i.setUpDragHandle(i.leftHandle),i.setUpDragHandle(i.rightHandle),i.setRange(r.start,r.end),i.bind(i.events,i.options),l.ui.Draggable&&i.selection.kendoDraggable({drag:a(i.dragSelection,i),dragstart:a(i.dragSelectionStart,i),dragend:a(i.dragSelectionEnd,i)})},events:[Gt],options:{min:Pt,max:Dt,snap:!0},getValueAxis:function(e){var t=e.pane.axes,n=t.length,r,i;for(r=0;r<n;r++){i=t[r];if(i.options.vertical!==e.options.vertical)return i}},setRange:function(e,t){var n=this,r=n.options,i=r.start,s=r.end;if(e===null||!isFinite(e))e=i;if(e===null||!isFinite(t))t=s;r.start=e,r.end=t,n.moveSelection()},moveSelection:function(){var e=this,t=e.options,n=t.offset,r=t.padding,i=t.selection.border,s=t.start,u=t.end,a=e.categoryAxis,f,l,c,h;c=a.getSlot(s),f=U(c.x1-n.left+r.left),e.leftMask.width(f),e.selection.css("left",f),c=a.getSlot(u),l=U(t.width-(c.x1-n.left+r.left)),e.rightMask.width(l),h=t.width-l,h!=t.width&&(h+=i.right),e.rightMask.css("left",h),e.selection.width(o.max(t.width-(f+l)-i.right,0))},setUpDragHandle:function(e){var t=this;if(l.ui.Draggable)return new l.ui.Draggable(e,{dragstart:a(t.dragStart,t),drag:a(t.drag,t),dragend:a(t.dragEnd,t)});e.removeClass(X+"handle")},dragStart:function(t){var n=this,r=n.options;n.dragHandle=e(t.currentTarget).css("cursor","default"),n.isFirst=n.dragHandle.hasClass(X+"leftHandle"),n.isFirst?n._state={start:r.start}:n._state={start:r.end}},drag:function(e){var t=this,n=t.options,r=e.x.startLocation-e.x.location,i=n.max-n.min,s=t.wrapper.width()/i,u=o.round(r/s),a=t._state;t.isFirst?(t.start=o.min(o.max(n.min,a.start-u),n.max-1),t.end=o.max(t.start+1,n.end)):(t.end=o.min(o.max(n.min+1,a.start-u),n.max),t.start=o.min(t.end-1,n.start)),t.setRange(t.start,t.end)},dragEnd:function(e){var t=this;t.dragHandle.css("cursor","e-resize"),t.trigger(Gt,{start:t.start,end:t.end})},dragSelectionStart:function(t){var n=this,r=n.options;e(t.target).is(".k-selection")?n._dragSelectionState={range:r.end-r.start,start:r.start}:t.preventDefault()},dragSelection:function(e){var t=this,n=t.options,r=e.x.startLocation-e.x.location,i=n.max-n.min,s=t._dragSelectionState,u=s.range,a=t.wrapper.width()/i,f=o.round(r/a);t.start=o.min(o.max(n.min,s.start-f),n.max-u),t.end=o.min(t.start+u,n.max),t.setRange(t.start,t.end)},dragSelectionEnd:function(e){var t=this,n=t.options;t.trigger(Gt,{start:n.start,end:n.end})}});u(e.easing,{easeOutElastic:function(e,t,n,r){var i=1.70158,s=0,u=r;return e===0?n:e===1?n+r:(s||(s=.5),u<o.abs(r)?(u=r,i=s/4):i=s/(2*o.PI)*o.asin(r/u),u*o.pow(2,-10*e)*o.sin((e*1-i)*1.1*o.PI/s)+r+n)}}),Pr.cache={},y.ui.plugin(Cn),m(y,{Aggregates:yr,AreaChart:Vn,Bar:Bn,BarAnimationDecorator:pr,BarChart:Fn,BarLabel:kn,BubbleAnimationDecorator:vr,BubbleChart:Kn,CandlestickChart:Gn,Candlestick:Qn,CategoricalPlotArea:or,CategoryAxis:An,ClusterLayout:Dn,DateCategoryAxis:Mn,DateValueAxis:_n,DonutChart:rr,DonutPlotArea:lr,DonutSegment:nr,Highlight:mr,Legend:Ln,LineChart:Wn,LinePoint:qn,Pane:ir,PieAnimation:cr,PieAnimationDecorator:dr,PieChart:tr,PiePlotArea:fr,PieSegment:er,ScatterChart:$n,ScatterLineChart:Jn,Selection:br,ShapeElement:In,StackLayout:Pn,Tooltip:gr,OHLCChart:Zn,OHLCPoint:Yn,XYPlotArea:ar,addDuration:jr,validNumbers:ri,bindPoint:Xr,categoriesCount:_r,ceilDate:qr,duration:zr,floorDate:Ir,lteDateIndex:ni,toDate:Hr})})(jQuery);