/*
* Kendo UI Beta v2012.3.1024 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

;(function(e,t){var n=window.kendo,r=n.mobile,i=r.ui,s="show",o="hide",u="open",a="close",f='<div class="km-popup-wrapper" />',l='<div class="km-popup-arrow" />',c='<div class="km-popup-overlay" />',h="km-up km-down km-left km-right",p=i.Widget,d={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},v={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},m={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},g={up:"down",down:"up",left:"right",right:"left"},y=p.extend({init:function(t,i){var s=this,u=r.application.element,a={viewport:n.mobile.application.element,open:function(){s.overlay.show()},activate:e.proxy(s._activate,s),deactivate:function(){s.overlay.hide(),s.trigger(o)}},h;p.fn.init.call(s,t,i),t=s.element,i=s.options,t.wrap(f).addClass("km-popup").show(),h=s.options.direction.match(/left|right/)?"horizontal":"vertical",s.dimensions=m[h],s.wrapper=t.parent().css({width:i.width,height:i.height}).addClass("km-popup-wrapper km-"+i.direction).hide(),s.arrow=e(l).prependTo(s.wrapper).hide(),s.overlay=e(c).appendTo(u).hide(),a.appendTo=s.overlay,s.popup=new n.ui.Popup(s.wrapper,e.extend(!0,a,v,d[i.direction]))},options:{name:"Popup",width:240,height:320,direction:"down"},events:[s,o],show:function(t){var n=this,r=n.popup;r.options.anchor=e(t),r.open()},hide:function(){this.popup.close()},destroy:function(){p.fn.destroy.call(this),this.popup.destroy()},_activate:function(){var t=this,n=t.options.direction,r=t.dimensions,i=r.offset,o=t.popup,u=o.options.anchor,a=e(u).offset(),f=e(o.element).offset(),l=o.flipped?g[n]:n,c=a[i]-f[i]+e(u)[r.size]()/2;t.wrapper.removeClass(h).addClass("km-"+l),t.arrow.css(i,c).show(),t.trigger(s)}}),b=p.extend({init:function(t,r){var s=this,o;p.fn.init.call(s,t,r),r=s.options,o=e.extend({show:function(){s.trigger(u)},hide:function(){s.trigger(a)}},this.options.popup),s.popup=new y(s.element,o),s.pane=new i.Pane(s.element,this.options.pane),s.pane.navigate(""),n.notify(s,i)},options:{name:"PopOver",popup:{},pane:{}},events:[u,a],openFor:function(e){this.popup.show(e)},close:function(){this.popup.hide()},destroy:function(){p.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),n.destroy(this.element)}});i.plugin(y),i.plugin(b)})(jQuery);