/*
* Kendo UI Beta v2012.3.1024 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

;(function(e,t){function l(t,n,r){e(t.target).closest(".km-button,.km-detail").toggleClass("km-state-active",n),a&&r.deactivateTimeoutID&&(clearTimeout(r.deactivateTimeoutID),r.deactivateTimeoutID=0)}var n=window.kendo,r=n.mobile,i=r.ui,s=i.Widget,o=n.support,u=o.mobileOS,a=u.android&&u.flatVersion>=300,f="click",c=s.extend({init:function(e,t){var n=this;s.fn.init.call(n,e,t),n._wrap(),n._style(),n.eventProxy.on("up","_release").on("down","_activate").on("up cancel","_deactivate"),a&&n.eventProxy.on("move","_timeoutDeactivate")},events:[f],options:{name:"Button",icon:"",style:""},_timeoutDeactivate:function(e){this.deactivateTimeoutID||(this.deactivateTimeoutID=setTimeout(l,500,this,e,!1))},_activate:function(e){l(this,e,!0),document.activeElement.blur()},_deactivate:function(e){l(this,e,!1)},_release:function(t){var n=this;if(t.which>1)return;n.trigger(f,{target:e(t.target),button:n.element})&&t.preventDefault()},_style:function(){var t=this.options.style,n=this.element,r;t&&(r=t.split(" "),e.each(r,function(){n.addClass("km-"+this)}))},_wrap:function(){var t=this,n=t.options.icon,r='<span class="km-icon km-'+n,i=t.element.addClass("km-button"),s=i.children("span:not(.km-icon)").addClass("km-text"),o=i.find("img").addClass("km-image");!s[0]&&i.html()&&(s=i.wrapInner('<span class="km-text" />').children("span.km-text")),!o[0]&&n&&(s[0]||(r+=" km-notext"),i.prepend(e(r+'" />')))}}),h=c.extend({options:{name:"BackButton",style:"back"},init:function(e,t){var n=this;c.fn.init.call(n,e,t),typeof n.element.attr("href")=="undefined"&&n.element.attr("href","#:back")}}),p=c.extend({options:{name:"DetailButton",style:""},init:function(e,t){c.fn.init.call(this,e,t)},_style:function(){var t=this.options.style+" detail",n=this.element;if(t){var r=t.split(" ");e.each(r,function(){n.addClass("km-"+this)})}},_wrap:function(){var t=this,n=t.options.icon,r='<span class="km-icon km-'+n,i=t.element,s=i.children("span"),o=i.find("img").addClass("km-image");!o[0]&&n&&(s[0]||(r+=" km-notext"),i.prepend(e(r+'" />')))}});i.plugin(c),i.plugin(h),i.plugin(p)})(jQuery);