/*
* Kendo UI Beta v2012.3.1024 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

;(function(e,t){function N(){return Math.abs(window.orientation)/90==1}function C(){return N()?h:c}function k(){e("meta[name=viewport]").remove(),x.append(d({height:N()?", height="+window.innerHeight+"px":a.flatVersion>=600&&a.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height"}))}var n=window.kendo,r=n.mobile,i=n.history,s=n.support,o=r.ui.Pane,u="ios",a=s.mobileOS,f=n.template("km-#=data.name##if(data.device){# km-on-#=data.device##}##if(data.icons){# km-font-icons#}##if(data.version){# km-#=data.name##=data.version.major# km-#=data.version.major# km-m#=data.version.minor# #=data.version.appMode?'km-app':'km-web'##}#",{usedWithBlock:!1}),l=a.device=="blackberry"&&a.flatVersion>=600&&a.flatVersion<1e3&&a.appMode,c="km-vertical",h="km-horizontal",p={ios:{ios:!0,appMode:!1,browser:"default",device:"iphone",flatVersion:"430",majorVersion:"4",minorVersion:"3.0",name:"ios",tablet:!1},android:{android:!0,appMode:!1,browser:"default",device:"android",flatVersion:"233",majorVersion:"2",minorVersion:"3.3",name:"android",tablet:!1},blackberry:{blackberry:!0,appMode:!1,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,appMode:!1,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1}},d=n.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width#=data.height#" name="viewport" />',{usedWithBlock:!1}),v='<meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-status-bar-style" content="black" /> ',m=d({height:""}),g=n.template('<link rel="apple-touch-icon'+(a.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),y=a.name,b=(a.device=="iphone"||a.device=="ipod")&&a.browser=="mobilesafari",w=!!(s.browser.msie||s.browser.opera||a.device=="blackberry"&&a.flatVersion>=700&&a.flatVersion<710),E=60,S=e(window),x=e("head"),T=e.proxy,L=n.Observable.extend({init:function(t,i){var u=this;r.application=u,u.options=e.extend({hideAddressBar:!0,transition:"",updateDocumentTitle:!0,useFontIcons:!1},i),n.Observable.fn.init.call(u,u.options),u.element=e(t?t:document.body),e(function(){u._setupPlatform(),u._attachHideBarHandlers(),u.pane=new o(u.element,u.options),u._setupElementClass(),u._attachMeta(),u.options.updateDocumentTitle&&u._setupDocumentTitle(),u._startHistory(),s.touch&&e(document.documentElement).on("touchmove",!1)})},navigate:function(e,t){this.pane.navigate(e,t)},scroller:function(){return this.view().scroller},hideLoading:function(){this.pane.hideLoading()},showLoading:function(){this.pane.showLoading()},view:function(){return this.pane.view()},_setupPlatform:function(){var e=this,t=e.options.platform,n=a,r;t&&(typeof t=="string"?n=p[t]:n=t,a=n),n?(e.os=n.name,r={appMode:n.appMode,major:n.majorVersion,minor:n.minorVersion?n.minorVersion[0]:0}):(e.os=u,r=!1),e.osCssClass=f({name:e.os,device:y,icons:e.options.useFontIcons||w,version:r})},_startHistory:function(){var t=this,n,r=t.options.initial;n={change:function(e){t.pane.navigate(e.url)},ready:function(e){var n=e.url;!n&&r&&(n=r,i.navigate(r,!0)),t.pane.navigate(n)}},t.pane.bind("navigate",function(e){i.navigate(e.url,!0)}),i.start(e.extend(t.options,n))},_setupElementClass:function(){var e=this,t=e.element;t.parent().addClass("km-root km-"+(a.tablet?"tablet":"phone")),t.addClass(e.osCssClass+" "+C()),l&&k(),n.onResize(function(){t.removeClass("km-horizontal km-vertical").addClass(C()),l&&k()})},_attachMeta:function(){var e=this.options.icon,t;l||x.prepend(m),x.prepend(v);if(e){typeof e=="string"&&(e={"":e});for(t in e)x.prepend(g({icon:e[t],size:t}))}},_attachHideBarHandlers:function(){var e=this,t=T(e._hideBar,e);if(a.appMode||!e.options.hideAddressBar)return;e._initialHeight={},b&&(S.on("load",t),n.onResize(t),e.element[0].addEventListener("touchstart",t,!0))},_setupDocumentTitle:function(){var e=this,n=document.title;e.pane.bind("viewShow",function(e){var r=e.view.title;document.title=r!==t?r:n})},_hideBar:function(){var e=this,t=e.element,n=window.orientation+"",r=e._initialHeight,i;r[n]||(r[n]=S.height()),i=r[n]+E,i!=t.height()&&t.height(i),setTimeout(window.scrollTo,0,0,1)}});n.mobile.Application=L})(jQuery);