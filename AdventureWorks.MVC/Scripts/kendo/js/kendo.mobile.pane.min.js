/*
* Kendo UI Beta v2012.3.1024 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

;(function(e,t){function b(t){m(e(t.currentTarget),"rel")!=f&&t.preventDefault()}function w(t){m(e(t.currentTarget),"rel")!==f&&t.preventDefault()}var n=window.kendo,r=n.mobile,i=n.roleSelector,s=r.ui,o=s.Widget,u=r.ViewEngine,a=r.ui.Loader,f="external",l="href",c="#!",h="navigate",p="viewShow",d=/popover|actionsheet|modalview/,v="#:back",m=n.attrValue,g="button backbutton detailbutton listview-link",y="tab",E=o.extend({init:function(e,t){var n=this;o.fn.init.call(n,e,t),e=n.element,e.addClass("km-pane"),n.loader=new a(e,{loading:n.options.loading}),n.viewEngine=new u({container:e,transition:n.options.transition,layout:n.options.layout,loader:n.loader}),n.viewEngine.bind(p,function(e){n.trigger(p,e)}),n.history=[],n._setupAppLinks()},options:{name:"Pane",transition:"",layout:"",loading:t},events:[h,p],destroy:function(){o.fn.destroy.call(this),n.destroy(this.element)},navigate:function(e,t){var n=this,r=n.history;e===v?(r.pop(),e=r[r.length-1]):n.history.push(e),n.trigger(h,{url:e}),n.viewEngine.showView(e,t)},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},view:function(){return this.viewEngine.view()},_setupAppLinks:function(){this.eventProxy.on("down",i(y),"_mouseup").on("up",i(g),"_mouseup").on("click",i(y+" "+g),b).on("touchstart",i(g),w).on("touchstart",".km-popup .k-item",n.preventDefault)},_mouseup:function(t){if(t.which>1||t.isDefaultPrevented())return;var i=e(t.currentTarget),o=m(i,"transition"),u=m(i,"rel")||"",a=m(i,"target"),h=this,p=i.attr(l);if(u===f||typeof p=="undefined"||p===c)return;i.attr(l,c),setTimeout(function(){i.attr(l,p)}),u.match(d)?n.widgetInstance(e(p),s).openFor(i):(a==="_top"?h=r.application.pane:a&&(h=e("#"+a).data("kendoMobilePane")),h.navigate(p,o)),t.preventDefault()}});s.plugin(E)})(jQuery);