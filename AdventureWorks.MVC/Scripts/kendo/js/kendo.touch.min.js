/*
* Kendo UI Beta v2012.3.1024 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

;(function(e,t){var n=window.kendo,r=n.ui.Widget,i=e.proxy,s=Math.abs,o=8,u=n.Class.extend({init:function(t,r,i){i=e.extend({minXDelta:30,maxYDelta:20,maxDuration:1e3},i),new n.UserEvents(t,{surface:i.surface,allowSelection:!0,start:function(e){s(e.x.velocity)*2>=s(e.y.velocity)&&e.sender.capture()},move:function(e){var t=e.touch,n=e.event.timeStamp-t.startTime,o=t.x.initialDelta>0?"right":"left";s(t.x.initialDelta)>=i.minXDelta&&s(t.y.initialDelta)<i.maxYDelta&&n<i.maxDuration&&(r({direction:o,touch:t,target:t.target}),t.cancel())}})}});e.fn.kendoMobileSwipe=function(e,t){this.each(function(){new u(this,e,t)})};var a=r.extend({init:function(e,t){function o(e){return function(t){s._triggerTouch(e,t)}}function u(e){return function(t){s.trigger(e,{touches:t.touches})}}var s=this;r.fn.init.call(s,e,t),t=s.options,e=s.element,s.events=new n.UserEvents(e,{surface:t.surface,multiTouch:t.multiTouch,allowSelection:!0,press:i(s,"_touchstart"),tap:i(s,"_tap"),gesturestart:u("gesturestart"),gesturechange:u("gesturechange"),gestureend:u("gestureend")}),t.enableSwipe?(s.events.bind("start",i(s,"_swipestart")),s.events.bind("move",i(s,"_swipemove"))):(s.events.bind("start",i(s,"_dragstart")),s.events.bind("move",o("drag")),s.events.bind("end",o("dragend"))),n.notify(s)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:!1,multiTouch:!1,enableSwipe:!1,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},_cancelHold:function(){clearTimeout(this.holdTimeout)},_triggerTouch:function(e,t){this.trigger(e,{touch:t.touch})},_touchstart:function(e){var t=this;t._triggerTouch("touchstart",e),t._cancelHold(),t.holdTimeout=setTimeout(function(){t._triggerTouch("hold",e)},t.options.minHold)},_tap:function(e){var t=this,r=t.lastTap,i=e.touch;t._cancelHold(),r&&i.endTime-r.endTime<t.options.doubleTapTimeout&&n.touchDelta(i,r).distance<o?(t._triggerTouch("doubletap",e),t.lastTap=null):(t._triggerTouch("tap",e),t.lastTap=i)},_dragstart:function(e){this._cancelHold(),this._triggerTouch("dragstart",e)},_swipestart:function(e){this._cancelHold(),s(e.x.velocity)*2>=s(e.y.velocity)&&e.sender.capture()},_swipemove:function(e){var t=this,n=t.options,r=e.touch,i=e.event.timeStamp-r.startTime,o=r.x.initialDelta>0?"right":"left";t._cancelHold(),s(r.x.initialDelta)>=n.minXDelta&&s(r.y.initialDelta)<n.maxYDelta&&i<n.maxDuration&&(t.trigger("swipe",{direction:o,touch:e.touch}),r.cancel())}});n.ui.plugin(a)})(jQuery);