/*
* Kendo UI Beta v2012.3.1024 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

;(function(e,t){function B(e,t,n){var r=n?" k-slider-horizontal":" k-slider-vertical",i=e.style?e.style:t.attr("style"),s=t.attr("class")?" "+t.attr("class"):"",o="";return e.tickPlacement=="bottomRight"?o=" k-slider-bottomright":e.tickPlacement=="topLeft"&&(o=" k-slider-topleft"),i=i?" style='"+i+"'":"","<div class='k-widget k-slider"+r+s+"'"+i+">"+"<div class='k-slider-wrap"+(e.showButtons?" k-slider-buttons":"")+o+"'></div></div>"}function j(e,t,n){var r="";return t=="increase"?r=n?"k-i-arrow-e":"k-i-arrow-n":r=n?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+t+"'><span class='k-icon "+r+"' title='"+e[t+"ButtonTitle"]+"'>"+e[t+"ButtonTitle"]+"</span></a>"}function F(e,t){var n="<ul class='k-reset k-slider-items'>",r=l.floor(z(t/e.smallStep))+1,i;for(i=0;i<r;i++)n+="<li class='k-tick' role='presentation'>&nbsp;</li>";return n+="</ul>",n}function I(e,t){var n=t.is("input")?1:2,r=n==2?e.leftDragHandleTitle:e.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+r+"' role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(n>1?e.selectionStart||e.min:e.value||e.min)+"'>Drag</a>"+(n>1?"<a href='#' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(e.selectionEnd||e.max)+"'>Drag</a>":"")+"</div>"}function q(e){return function(t){return t+e}}function R(e){return function(){return e}}function U(e){return(e+"").replace(".",n.cultures.current.numberFormat["."])}function z(e){e=parseFloat(e,10);var t=l.pow(10,M||0);return l.round(e*t)/t}function W(e,n){var r=u(e.getAttribute(n));return r===null&&(r=t),r}function V(e){return typeof e!==D}var n=window.kendo,r=n.ui.Widget,i=n.ui.Draggable,s=e.extend,o=n.format,u=n.parseFloat,a=e.proxy,f=e.isArray,l=Math,c=n.support,h=c.touch,p=c.pointers,d="change",v="slide",m=h?"touchstart":"mousedown",g=h?"touchstart":p?"MSPointerDown":"mousedown",y=h?"touchend":"mouseup",b="moveSelection",w="keydown",E="click",S="mouseover",x="focus",T="blur",N=".k-draghandle",C=".k-slider-track",k=".k-tick",L="k-state-selected",A="k-state-default",O="k-state-disabled",M=3,_="disabled",D="undefined",P=".slider",H=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t),t=i.options,i._distance=t.max-t.min,i._isHorizontal=t.orientation=="horizontal",i._isRtl=i._isHorizontal&&n.support.isRtl(e),i._position=i._isHorizontal?"left":"bottom",i._size=i._isHorizontal?"width":"height",i._outerSize=i._isHorizontal?"outerWidth":"outerHeight",t.tooltip.format=t.tooltip.enabled?t.tooltip.format||"{0}":"{0}",i._createHtml(),i.wrapper=i.element.closest(".k-slider"),i._trackDiv=i.wrapper.find(C),i._setTrackDivWidth(),i._maxSelection=i._trackDiv[i._size]();var s=i._maxSelection/((t.max-t.min)/t.smallStep),o=i._calculateItemsWidth(l.floor(i._distance/t.smallStep));t.tickPlacement!="none"&&s>=2&&(i._trackDiv.before(F(t,i._distance)),i._setItemsWidth(o),i._setItemsTitle(),i._setItemsLargeTick()),i._calculateSteps(o),i._tabindex(i.wrapper.find(N)),i[t.enabled?"enable":"disable"]();var u=n.support.isRtl(i.wrapper)?-1:1;i._keyMap={37:q(-1*u*t.smallStep),40:q(-t.smallStep),39:q(1*u*t.smallStep),38:q(+t.smallStep),35:R(t.max),36:R(t.min),33:q(+t.largeStep),34:q(-t.largeStep)},n.notify(i)},events:[d,v],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_setTrackDivWidth:function(){var e=this,t=parseFloat(e._trackDiv.css(e._isRtl?"right":e._position),10)*2;e._trackDiv[e._size](e.wrapper[e._size]()-2-t)},_setItemsWidth:function(t){var n=this,r=n.options,i=0,s=t.length-1,o=n.wrapper.find(k),u,a=0,f=2,l=o.length,c=0;for(u=0;u<l-2;u++)e(o[u+1])[n._size](t[u]);n._isHorizontal?(e(o[i]).addClass("k-first")[n._size](t[s-1]),e(o[s]).addClass("k-last")[n._size](t[s])):(e(o[s]).addClass("k-first")[n._size](t[s]),e(o[i]).addClass("k-last")[n._size](t[s-1]));if(n._distance%r.smallStep!==0&&!n._isHorizontal){for(u=0;u<t.length;u++)c+=t[u];a=n._maxSelection-c,a+=parseFloat(n._trackDiv.css(n._position),10)+f,n.wrapper.find(".k-slider-items").css("padding-top",a)}},_setItemsTitle:function(){var t=this,n=t.options,r=t.wrapper.find(k),i=n.min,s=r.length,u=t._isHorizontal&&!t._isRtl?0:s-1,a=t._isHorizontal&&!t._isRtl?s:-1,f=t._isHorizontal&&!t._isRtl?1:-1;for(;u-a!==0;u+=f)e(r[u]).attr("title",o(n.tooltip.format,z(i))),i+=n.smallStep},_setItemsLargeTick:function(){var t=this,n=t.options,r,i=t.wrapper.find(k),s={},o=z(n.largeStep/n.smallStep);if(1e3*n.largeStep%(1e3*n.smallStep)===0)if(t._isHorizontal&&!t._isRtl)for(r=0;r<i.length;r=z(r+o))s=e(i[r]),s.addClass("k-tick-large").html("<span class='k-label'>"+s.attr("title")+"</span>");else for(r=i.length-1;r>=0;r=z(r-o))s=e(i[r]),s.addClass("k-tick-large").html("<span class='k-label'>"+s.attr("title")+"</span>"),t._isRtl||r!==0&&r!==i.length-1&&s.css("line-height",s[t._size]()+"px")},_calculateItemsWidth:function(e){var t=this,n=t.options,r=parseFloat(t._trackDiv.css(t._size))+1,i=r/t._distance,s,o,u;t._distance/n.smallStep-l.floor(t._distance/n.smallStep)>0&&(r-=t._distance%n.smallStep*i),s=r/e,o=[];for(u=0;u<e-1;u++)o[u]=s;return o[e-1]=o[e]=s/2,t._roundWidths(o)},_roundWidths:function(e){var t=0,n=e.length,r;for(r=0;r<n;r++)t+=e[r]-l.floor(e[r]),e[r]=l.floor(e[r]);return t=l.round(t),this._addAdditionalSize(t,e)},_addAdditionalSize:function(e,t){if(e===0)return t;var n=parseFloat(t.length-1)/parseFloat(e==1?e:e-1),r;for(r=0;r<e;r++)t[parseInt(l.round(n*r),10)]+=1;return t},_calculateSteps:function(e){var t=this,n=t.options,r=n.min,i=0,s=l.ceil(t._distance/n.smallStep),o=1,u;s+=t._distance/n.smallStep%1===0?1:0,e.splice(0,0,e[s-2]*2),e.splice(s-1,1,e.pop()*2),t._pixelSteps=[i],t._values=[r];if(s===0)return;while(o<s)i+=(e[o-1]+e[o])/2,t._pixelSteps[o]=i,t._values[o]=r+=n.smallStep,o++;u=t._distance%n.smallStep===0?s-1:s,t._pixelSteps[u]=t._maxSelection,t._values[u]=n.max,t._isRtl&&(t._pixelSteps.reverse(),t._values.reverse())},_getValueFromPosition:function(e,t){var n=this,r=n.options,i=l.max(r.smallStep*(n._maxSelection/n._distance),0),s=0,o=i/2,u;n._isHorizontal?(s=e-t.startPoint,n._isRtl&&(s=n._maxSelection-s)):s=t.startPoint-e;if(n._maxSelection-(parseInt(n._maxSelection%i,10)-3)/2<s)return r.max;for(u=0;u<n._pixelSteps.length;u++)if(l.abs(n._pixelSteps[u]-s)-1<=o)return z(n._values[u])},_getFormattedValue:function(e,t){var r=this,i="",s=r.options.tooltip,u,a,l;return f(e)?(a=e[0],l=e[1]):t&&t.type&&(a=t.selectionStart,l=t.selectionEnd),t&&(u=t.tooltipTemplate),!u&&s.template&&(u=n.template(s.template)),f(e)||t&&t.type?u?i=u({selectionStart:a,selectionEnd:l}):(a=o(s.format,a),l=o(s.format,l),i=a+" - "+l):(t&&(t.val=e),u?i=u({value:e}):i=o(s.format,e)),i},_getDragableArea:function(){var e=this,t=e._trackDiv.offset().left,n=e._trackDiv.offset().top;return{startPoint:e._isHorizontal?t:n+e._maxSelection,endPoint:e._isHorizontal?t+e._maxSelection:n}},_createHtml:function(){var e=this,t=e.element,n=e.options,r=t.find("input");r.length==2?(r.eq(0).val(n.selectionStart),r.eq(1).val(n.selectionEnd)):t.val(n.value),t.wrap(B(n,t,e._isHorizontal)).hide(),n.showButtons&&t.before(j(n,"increase",e._isHorizontal)).before(j(n,"decrease",e._isHorizontal)),t.before(I(n,t))},_focus:function(t){var n=this,r=t.target,i=n.value(),s=n._drag;s||(r==n.wrapper.find(N).eq(0)[0]?(s=n._firstHandleDrag,n._activeHandle=0):(s=n._lastHandleDrag,n._activeHandle=1),i=i[n._activeHandle]),e(r).addClass(L),s&&(n._activeHandleDrag=s,s.selectionStart=n.options.selectionStart,s.selectionEnd=n.options.selectionEnd,s._updateTooltip(i))},_focusWithMouse:function(t){var n=this,r=e(t.target),i=r.is(N)?r.index():0;window.setTimeout(function(){n.wrapper.find(N)[i==2?1:0].focus()},1),n._setTooltipTimeout()},_blur:function(t){var n=this,r=n._activeHandleDrag;e(t.target).removeClass(L),r&&(r._removeTooltip(),delete n._activeHandleDrag,delete n._activeHandle)},_setTooltipTimeout:function(){var e=this;e._tooltipTimeout=window.setTimeout(function(){var t=e._drag||e._activeHandleDrag;t&&t._removeTooltip()},300)},_clearTooltipTimeout:function(){var e=this;window.clearTimeout(this._tooltipTimeout);var t=e._drag||e._activeHandleDrag;t&&t.tooltipDiv&&t.tooltipDiv.stop(!0,!1).css("opacity",1)}}),X=function(e){return{idx:0,x:e.pageX,y:e.pageY}};c.pointers&&(X=function(e){return{idx:0,x:e.originalEvent.clientX,y:e.originalEvent.clientY}}),c.touch&&(X=function(t,n){var r=t.changedTouches||t.originalEvent.changedTouches;if(n){var i=null;return e.each(r,function(e,t){n==t.identifier&&(i={idx:t.identifier,x:t.pageX,y:t.pageY})}),i}return{idx:r[0].identifier,x:r[0].pageX,y:r[0].pageY}});var $=H.extend({init:function(n,r){var i=this,o;n.type="text",r=s({},{value:W(n,"value"),min:W(n,"min"),max:W(n,"max"),smallStep:W(n,"step")},r),n=e(n),r&&r.enabled===t&&(r.enabled=!n.is("[disabled]")),H.fn.init.call(i,n,r),r=i.options,V(r.value)||(r.value=r.min,n.val(r.min)),o=i.wrapper.find(N),new $.Selection(o,i,r),i._drag=new $.Drag(o,"",i,r)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"}},enable:function(t){var r=this,i=r.options,s,o;r.disable();if(t===!1)return;r.wrapper.removeClass(O).addClass(A),r.wrapper.find("input").removeAttr(_),s=function(t){var n=X(t),i=r._isHorizontal?n.x:n.y,s=r._getDragableArea(),o=e(t.target);if(o.hasClass("k-draghandle")){o.addClass(L);return}r._update(r._getValueFromPosition(i,s)),r._focusWithMouse(t),r._drag.dragstart(t)},r.wrapper.find(k+", "+C).on(g+P,s).end().on(g+P,function(){e(document.documentElement).one("selectstart",n.preventDefault)}),r.wrapper.find(N).on(y+P,function(e){r._setTooltipTimeout()}).on(E+P,function(e){r._focusWithMouse(e),e.preventDefault()}).on(x+P,a(r._focus,r)).on(T+P,a(r._blur,r)),o=a(function(e){var t=r._nextValueByIndex(r._valueIndex+e*1);r._setValueInRange(t),r._drag._updateTooltip(t)},r);if(i.showButtons){var u=a(function(e,t){this._clearTooltipTimeout();if(e.which===1||h&&e.which===0)o(t),this.timeout=setTimeout(a(function(){this.timer=setInterval(function(){o(t)},60)},this),200)},r);r.wrapper.find(".k-button").on(y+P,a(function(e){this._clearTimer(),r._focusWithMouse(e)},r)).on(S+P,function(t){e(t.currentTarget).addClass("k-state-hover")}).on("mouseout"+P,a(function(t){e(t.currentTarget).removeClass("k-state-hover"),this._clearTimer()},r)).eq(0).on(m+P,a(function(e){u(e,1)},r)).click(!1).end().eq(1).on(m+P,a(function(e){u(e,-1)},r)).click(n.preventDefault)}r.wrapper.find(N).off(w+P,!1).on(w+P,a(this._keydown,r)),i.enabled=!0},disable:function(){var t=this;t.wrapper.removeClass(A).addClass(O),e(t.element).attr(_,_),t.wrapper.find(".k-button").off(m+P).on(m+P,n.preventDefault).off(y+P).on(y+P,n.preventDefault).off("mouseleave"+P).on("mouseleave"+P,n.preventDefault).off(S+P).on(S+P,n.preventDefault),t.wrapper.find(k+", "+C).off(g+P),t.wrapper.find(N).off(y+P).off(w+P).off(E+P).off(x+P).off(T+P),t.options.enabled=!1},_update:function(e){var t=this,n=t.value()!=e;t.value(e),n&&t.trigger(d,{value:t.options.value})},value:function(e){var t=this,n=t.options;e=z(e);if(isNaN(e))return n.value;e>=n.min&&e<=n.max&&n.value!=e&&(t.element.attr("value",U(e)),n.value=e,t._refreshAriaAttr(e),t._refresh())},_refresh:function(){this.trigger(b,{value:this.options.value})},_refreshAriaAttr:function(e){var t=this,n=t._drag,r;n&&n._tooltipDiv?r=n._tooltipDiv.text():r=t._getFormattedValue(e,null),this.wrapper.find(N).attr("aria-valuenow",e).attr("aria-valuetext",r)},_clearTimer:function(e){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(e){var t=this;e.keyCode in t._keyMap&&(t._clearTooltipTimeout(),t._setValueInRange(t._keyMap[e.keyCode](t.options.value)),t._drag._updateTooltip(t.value()),e.preventDefault())},_setValueInRange:function(e){var t=this,n=t.options;e=z(e);if(isNaN(e)){t._update(n.min);return}e=l.max(l.min(e,n.max),n.min),t._update(e)},_nextValueByIndex:function(e){var t=this._values.length;return this._isRtl&&(e=t-1-e),this._values[l.max(0,l.min(e,t-1))]},destroy:function(){var e=this;r.fn.destroy.call(e),e.wrapper.off(P).find(".k-button").off(P).end().find(N).off(P).end().find(k+", "+C).off(P).end(),e._drag.draggable.destroy()}});$.Selection=function(e,t,n){function r(r){var i=r-n.min,s=t._valueIndex=l.ceil(z(i/n.smallStep)),o=parseInt(t._pixelSteps[s],10),u=t._trackDiv.find(".k-slider-selection"),a=parseInt(e[t._outerSize]()/2,10),f=t._isRtl?2:0;u[t._size](t._isRtl?t._maxSelection-o:o),e.css(t._position,o-a-f)}r(n.value),t.bind([d,v,b],function(e){r(parseFloat(e.value,10))})},$.Drag=function(e,t,n,r){var s=this;s.owner=n,s.options=r,s.dragHandle=e,s.dragHandleSize=e[n._outerSize](),s.type=t,s.draggable=new i(e,{threshold:0,dragstart:a(s._dragstart,s),drag:a(s.drag,s),dragend:a(s.dragend,s),dragcancel:a(s.dragcancel,s)}),e.click(!1)},$.Drag.prototype={dragstart:function(e){this.draggable.userEvents._start(e)},_dragstart:function(e){var t=this,n=t.owner,r=t.options;if(!r.enabled){e.preventDefault();return}n.element.off(S+P),t.dragHandle.addClass(L),t.dragableArea=n._getDragableArea(),t.step=l.max(r.smallStep*(n._maxSelection/n._distance),0),t.type?(t.selectionStart=r.selectionStart,t.selectionEnd=r.selectionEnd,n._setZIndex(t.type)):t.oldVal=t.val=r.value,t._removeTooltip(!0),t._createTooltip()},_createTooltip:function(){var t=this,r=t.owner,i=t.options.tooltip,s="",o;if(!i.enabled)return;i.template&&(o=t.tooltipTemplate=n.template(i.template)),e(".k-slider-tooltip").remove(),t.tooltipDiv=e("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),s=r._getFormattedValue(t.val||r.value(),t),t.type||(t.tooltipInnerDiv="<div class='k-callout k-callout-"+(r._isHorizontal?"s":"e")+"'><!-- --></div>",s+=t.tooltipInnerDiv),t.tooltipDiv.html(s),t.moveTooltip()},drag:function(e){var t=this,n=t.owner,r=e.x.location,i=e.y.location,s=t.dragableArea.startPoint,o=t.dragableArea.endPoint,u;e.preventDefault(),n._isHorizontal?n._isRtl?t.val=t.constrainValue(r,s,o,r<o):t.val=t.constrainValue(r,s,o,r>=o):t.val=t.constrainValue(i,o,s,i<=o),t.oldVal!=t.val&&(t.oldVal=t.val,t.type?(t.type=="firstHandle"?t.val<t.selectionEnd?t.selectionStart=t.val:t.selectionStart=t.selectionEnd=t.val:t.val>t.selectionStart?t.selectionEnd=t.val:t.selectionStart=t.selectionEnd=t.val,u={values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}):u={value:t.val},n.trigger(v,u)),t._updateTooltip(t.val)},_updateTooltip:function(e){var t=this,n=t.options,r=n.tooltip,i="";if(!r.enabled)return;t.tooltipDiv||t._createTooltip(),i=t.owner._getFormattedValue(e,t),t.type||(i+=t.tooltipInnerDiv),t.tooltipDiv.html(i),t.moveTooltip()},dragcancel:function(e){return this.owner._refresh(),this._end()},dragend:function(e){var t=this,n=t.owner;return t.type?n._update(t.selectionStart,t.selectionEnd):n._update(t.val),t._end()},_end:function(){var e=this,t=e.owner;return t._focusWithMouse({target:e.dragHandle[0]}),t.element.on(S+P),!1},_removeTooltip:function(e){var t=this,n=t.owner;t.tooltipDiv&&n.options.tooltip.enabled&&n.options.enabled&&(e?(t.tooltipDiv.remove(),t.tooltipDiv=null):t.tooltipDiv.fadeOut("slow",function(){t.tooltipDiv.remove(),t.tooltipDiv=null}))},moveTooltip:function(){var e=this,t=e.owner,n=0,r=0,i=e.dragHandle.offset(),s=4,o=e.tooltipDiv.find(".k-callout"),u,a,f;e.type?(u=t.wrapper.find(N),a=u.eq(0).offset(),f=u.eq(1).offset(),t._isHorizontal?(n=f.top,r=a.left+(f.left-a.left)/2):(n=a.top+(f.top-a.top)/2,r=f.left)):(n=i.top,r=i.left),t._isHorizontal?(r-=parseInt((e.tooltipDiv.outerWidth()-e.dragHandle[t._outerSize]())/2,10),n-=e.tooltipDiv.outerHeight()+(o.height()||0)+s):(n-=parseInt((e.tooltipDiv.outerHeight()-e.dragHandle[t._outerSize]())/2,10),r-=e.tooltipDiv.outerWidth()+(o.width()||0)+s),e.tooltipDiv.css({top:n,left:r})},constrainValue:function(e,t,n,r){var i=this,s=0;return t<e&&e<n?s=i.owner._getValueFromPosition(e,i.dragableArea):r?s=i.options.max:s=i.options.min,s}},n.ui.plugin($);var J=H.extend({init:function(n,r){var i=this,o=e(n).find("input"),u=o.eq(0)[0],a=o.eq(1)[0];u.type="text",a.type="text",r=s({},{selectionStart:W(u,"value"),min:W(u,"min"),max:W(u,"max"),smallStep:W(u,"step")},{selectionEnd:W(a,"value"),min:W(a,"min"),max:W(a,"max"),smallStep:W(a,"step")},r),r&&r.enabled===t&&(r.enabled=!o.is("[disabled]")),H.fn.init.call(i,n,r),r=i.options,V(r.selectionStart)||(r.selectionStart=r.min,o.eq(0).val(r.min)),V(r.selectionEnd)||(r.selectionEnd=r.max,o.eq(1).val(r.max));var f=i.wrapper.find(N);new J.Selection(f,i,r),i._firstHandleDrag=new $.Drag(f.eq(0),"firstHandle",i,r),i._lastHandleDrag=new $.Drag(f.eq(1),"lastHandle",i,r)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"}},enable:function(t){var r=this,i=r.options,s;r.disable();if(t===!1)return;r.wrapper.removeClass(O).addClass(A),r.wrapper.find("input").removeAttr(_),s=function(t){var n=X(t),s=r._isHorizontal?n.x:n.y,o=r._getDragableArea(),u=r._getValueFromPosition(s,o),a=e(t.target),f;if(a.hasClass("k-draghandle")){a.addClass(L);return}u<i.selectionStart?(r._setValueInRange(u,i.selectionEnd),r._firstHandleDrag.dragstart(t),f=0):u>r.selectionEnd?(r._setValueInRange(i.selectionStart,u),r._lastHandleDrag.dragstart(t),f=1):u-i.selectionStart<=i.selectionEnd-u?(r._setValueInRange(u,i.selectionEnd),r._firstHandleDrag.dragstart(t),f=0):(r._setValueInRange(i.selectionStart,u),r._lastHandleDrag.dragstart(t),f=1),r._focusWithMouse({target:r.wrapper.find(N)[f]})},r.wrapper.find(k+", "+C).on(g+P,s).end().on(g+P,function(){e(document.documentElement).one("selectstart",n.preventDefault)}),r.wrapper.find(N).on(y+P,function(e){r._setTooltipTimeout()}).on(E+P,function(e){r._focusWithMouse(e),e.preventDefault()}).on(x+P,a(r._focus,r)).on(T+P,a(r._blur,r)),r.wrapper.find(N).off(w+P,n.preventDefault).eq(0).on(w+P,a(function(e){this._keydown(e,"firstHandle")},r)).end().eq(1).on(w+P,a(function(e){this._keydown(e,"lastHandle")},r)),r.options.enabled=!0},disable:function(){var e=this;e.wrapper.removeClass(A).addClass(O),e.wrapper.find("input").attr(_,_),e.wrapper.find(k+", "+C).off(g+P),e.wrapper.find(N).off(y+P).off(w+P).off(E+P).off(x+P).off(T+P),e.options.enabled=!1},_keydown:function(e,t){var n=this,r=n.options.selectionStart,i=n.options.selectionEnd,s,o,u;e.keyCode in n._keyMap&&(n._clearTooltipTimeout(),t=="firstHandle"?(u=n._activeHandleDrag=n._firstHandleDrag,r=n._keyMap[e.keyCode](r),r>i&&(i=r)):(u=n._activeHandleDrag=n._lastHandleDrag,i=n._keyMap[e.keyCode](i),r>i&&(r=i)),n._setValueInRange(r,i),s=Math.max(r,n.options.selectionStart),o=Math.min(i,n.options.selectionEnd),u.selectionEnd=Math.max(o,n.options.selectionStart),u.selectionStart=Math.min(s,n.options.selectionEnd),u._updateTooltip(n.value()[n._activeHandle]),e.preventDefault())},_update:function(e,t){var n=this,r=n.value(),i=r[0]!=e||r[1]!=t;n.value([e,t]),i&&n.trigger(d,{values:[e,t],value:[e,t]})},value:function(e){return e&&e.length?this._value(e[0],e[1]):this._value()},_value:function(e,t){var n=this,r=n.options,i=r.selectionStart,s=r.selectionEnd;if(isNaN(e)&&isNaN(t))return[i,s];e=z(e),t=z(t),e>=r.min&&e<=r.max&&t>=r.min&&t<=r.max&&e<=t&&(i!=e||s!=t)&&(n.element.find("input").eq(0).attr("value",U(e)).end().eq(1).attr("value",U(t)),r.selectionStart=e,r.selectionEnd=t,n._refresh(),n._refreshAriaAttr(e,t))},values:function(e,t){return f(e)?this._value(e[0],e[1]):this._value(e,t)},_refresh:function(){var e=this,t=e.options;e.trigger(b,{values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}),t.selectionStart==t.max&&t.selectionEnd==t.max&&e._setZIndex("firstHandle")},_refreshAriaAttr:function(e,t){var n=this,r=n.wrapper.find(N),i=n._activeHandleDrag,s;s=n._getFormattedValue([e,t],i),r.eq(0).attr("aria-valuenow",e),r.eq(1).attr("aria-valuenow",t),r.attr("aria-valuetext",s)},_setValueInRange:function(e,t){var n=this.options;e=l.max(l.min(e,n.max),n.min),t=l.max(l.min(t,n.max),n.min),e==n.max&&t==n.max&&this._setZIndex("firstHandle"),this._update(l.min(e,t),l.max(e,t))},_setZIndex:function(t){this.wrapper.find(N).each(function(n){e(this).css("z-index",t=="firstHandle"?1-n:n)})},destroy:function(){var e=this;r.fn.destroy.call(e),e.wrapper.off(P).find(k+", "+C).off(P).end().find(N).off(P),e._firstHandleDrag.draggable.destroy(),e._lastHandleDrag.draggable.destroy()}});J.Selection=function(e,t,n){function r(r){r=r||[];var s=r[0]-n.min,o=r[1]-n.min,u=l.ceil(z(s/n.smallStep)),a=l.ceil(z(o/n.smallStep)),f=t._pixelSteps[u],c=t._pixelSteps[a],h=parseInt(e.eq(0)[t._outerSize]()/2,10),p=t._isRtl?2:0;e.eq(0).css(t._position,f-h-p).end().eq(1).css(t._position,c-h-p),i(f,c)}function i(e,n){var r,i,s=t._trackDiv.find(".k-slider-selection");r=l.abs(e-n),s[t._size](r),t._isRtl?(i=l.max(e,n),s.css("right",t._maxSelection-i-1)):(i=l.min(e,n),s.css(t._position,i-1))}r(t.value()),t.bind([d,v,b],function(e){r(e.values)})},n.ui.plugin(J)})(jQuery);