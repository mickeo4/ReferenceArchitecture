/*
* Kendo UI Beta v2012.3.1024 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

;(function(e,t){function M(e,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+e+'" title="'+t+'">'+t+"</span></span>"}function _(n,r){var i,s=r!==t;if(document.selection){e(n).is(":visible")&&n.focus(),i=document.selection.createRange();if(s)i.move("character",r),i.select();else{var o=n.createTextRange(),u=o.duplicate();o.moveToBookmark(i.getBookmark()),u.setEndPoint("EndToStart",o),r=u.text.length}}else n.selectionStart!==t&&(s?(n.focus(),n.setSelectionRange(r,r)):r=n.selectionStart);return r}var n=window.kendo,r=n.keys,i=n.ui,s=i.Widget,o=n._extractFormat,u=n.parseFloat,a=n.support.placeholder,f=n.support.touch,l=n.getCulture,c="change",h="disabled",p="k-input",d="spin",v=".kendoNumericTextBox",m="touchend",g="mouseleave"+v,y=(f?"touchstart":"mousedown")+v,b=f?"touchmove"+v+" "+m+v:"mouseup"+v+" "+g,w="mouseenter"+v+" "+g,E="k-state-default",S="k-state-focused",x="k-state-hover",T=".",N="k-state-selected",C="k-state-disabled",k=null,L=e.proxy,A={190:".",188:","},O=s.extend({init:function(e,r){var i=this,u=r&&r.step!==t,a,l,c,h;s.fn.init.call(i,e,r),r=i.options,e=i.element.addClass(p).on("keydown"+v,L(i._keydown,i)).on("paste"+v,L(i._paste,i)).on("blur"+v,L(i._focusout,i)).attr("role","spinbutton"),r.placeholder=r.placeholder||e.attr("placeholder"),i._reset(),i._wrapper(),i._arrows(),i._input(),f?i._text.on(m+v,function(){i._toggleText(!1)}):i._text.on("focus"+v,L(i._click,i)),a=i.min(e.attr("min")),l=i.max(e.attr("max")),c=i._parse(e.attr("step")),r.min===k&&a!==k&&(r.min=a),r.max===k&&l!==k&&(r.max=l),!u&&c!==k&&(r.step=c),e.attr("aria-valuemin",r.min).attr("aria-valuemax",r.max),r.format=o(r.format),h=r.value,i.value(h!==k?h:e.val()),i.enable(!e.is("[disabled]")),n.notify(i)},options:{name:"NumericTextBox",decimals:k,min:k,max:k,value:k,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[c,d],enable:function(e){var t=this,n=t._text.add(t.element),r=t._inputWrapper.off(w),i=t._upArrow.off(y),s=t._downArrow.off(y);t._toggleText(!0),e===!1?(r.removeClass(E).addClass(C),n.attr(h,h)):(r.addClass(E).removeClass(C).on(w,t._toggleHover),n.removeAttr(h),i.on(y,function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(N)}),s.on(y,function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(N)}))},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(v),e._form&&e._form.off("reset",e._resetHandler),s.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var n=this,r;if(e===t)return n._value;e=n._parse(e),r=n._adjust(e);if(e!==r)return;n._update(e),n._old=n._value},focus:function(){this._focusin()},_adjust:function(e){var t=this,n=t.options,r=n.min,i=n.max;return e===k?e:(r!==k&&e<r?e=r:i!==k&&e>i&&(e=i),e)},_arrows:function(){var t=this,r,i=t.options,s=i.spinners,o=t.element;r=o.siblings(".k-icon"),r[0]||(r=e(M("n",i.upArrowText)+M("s",i.downArrowText)).insertAfter(o),r.wrapAll('<span class="k-select"/>')),r.on(b,function(e){(!f||n.eventTarget(e)!=e.currentTarget||e.type===m)&&clearTimeout(t._spinning),r.removeClass(N)}),s||(r.toggle(s),t._inputWrapper.addClass("k-expand-padding")),t._upArrow=r.eq(0),t._downArrow=r.eq(1)},_blur:function(){var e=this;e._toggleText(!0),e._change(e.element.val())},_click:function(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n=e.target,r=_(n),i=n.value.substring(0,r),s=t._format(t.options.format),o=s[","],u=new RegExp("\\"+o,"g"),a=new RegExp("([\\d\\"+o+"]+)(\\"+s[T]+")?(\\d+)?"),f=a.exec(i),l=0;f&&(l=f[0].replace(u,"").length,i.indexOf("(")!=-1&&t._value<0&&l++),t._focusin(),_(t.element[0],l)})},_change:function(e){var t=this;t._update(e),e=t._value,t._old!=e&&(t._old=e,t.trigger(c),t.element.trigger(c))},_culture:function(e){return e||l(this.options.culture)},_focusin:function(){var e=this;e._inputWrapper.addClass(S),e._toggleText(!1),e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(S),e._blur()},_format:function(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var t=this,n="k-formatted-value",r=t.element.show()[0],i=r.accessKey,s=t.wrapper,o,u;u=s.find(T+n),u[0]||(u=e("<input />").insertBefore(r).addClass(n)),o=u[0],o.type="text",o.style.cssText=r.style.cssText,o.tabIndex=r.tabIndex,r.tabIndex=0,r.type="text",u.attr("placeholder",t.options.placeholder),i&&(u.attr("accesskey",i),r.accessKey=""),t._text=u.attr("readonly",!0).addClass(r.className)},_keydown:function(e){var t=this,n=e.keyCode;n==r.DOWN?t._step(-1):n==r.UP?t._step(1):n==r.ENTER&&t._change(t.element.val()),t._prevent(n,e.shiftKey)&&!e.ctrlKey&&e.preventDefault()},_paste:function(e){var t=this,n=e.target,r=n.value;setTimeout(function(){t._parse(n.value)===k&&t._update(r)})},_prevent:function(e,t){var n=this,i=n.element[0],s=i.value,o=n.options,u=o.min,a=n._format(o.format),f=a[T],l=o.decimals,c=_(i),h=!0,p;return l===k&&(l=a.decimals),e>16&&e<21||e>32&&e<37||e>47&&e<58||e>95&&e<106||e==r.INSERT||e==r.DELETE||e==r.LEFT||e==r.RIGHT||e==r.TAB||e==r.BACKSPACE||e==r.ENTER?(h=!1,t&&(p=parseInt(String.fromCharCode(e),10),isNaN(p)||(i.value=s.substring(0,c)+p+s.substring(c),h=!0))):A[e]===f&&l>0&&s.indexOf(f)==-1?h=!1:!(u===k||u<0)||s.indexOf("-")!=-1||e!=189&&e!=109||c!==0?e==110&&l>0&&s.indexOf(f)==-1&&(i.value=s.substring(0,c)+f+s.substring(c)):h=!1,h},_option:function(e,n){var r=this,i=r.options;if(n===t)return i[e];n=r._parse(n);if(!n&&e==="step")return;i[e]=r._parse(n),r.element.attr("aria-value"+e,i[e])},_spin:function(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50)},t),n._step(e)},_step:function(e){var t=this,n=t.element,r=t._parse(n.val())||0;document.activeElement!=n[0]&&t._focusin(),r+=t.options.step*e,t._update(t._adjust(r)),t.trigger(d)},_toggleHover:function(t){f||e(t.currentTarget).toggleClass(x,t.type==="mouseenter")},_toggleText:function(e){var t=this;t._text.toggle(e),t.element.toggle(!e)},_parse:function(e,t){return u(e,this._culture(t),this.options.format)},_update:function(e){var t=this,r=t.options,i=r.format,s=r.decimals,o=t._culture(),u=t._format(i,o),a;s===k&&(s=u.decimals),e=t._parse(e,o),a=e!==k,a&&(e=parseFloat(e.toFixed(s))),t._value=e=t._adjust(e),t._placeholder(n.toString(e,i,o)),t.element.val(a?e.toString().replace(T,u[T]):"").attr("aria-valuenow",e)},_placeholder:function(e){this._text.val(e),!a&&!e&&this._text.val(this.options.placeholder)},_wrapper:function(){var t=this,n=t.element,r=n[0],i;i=n.parents(".k-numerictextbox"),i.is("span.k-numerictextbox")||(i=n.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),i=i.wrap("<span/>").parent()),i[0].style.cssText=r.style.cssText,r.style.width="",t.wrapper=i.addClass("k-widget k-numerictextbox").addClass(r.className).css("display",""),t._inputWrapper=e(i[0].firstChild)},_reset:function(){var e=this,t=e.element,n=t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(t[0].value)})},e._form=n.on("reset",e._resetHandler))}});i.plugin(O)})(jQuery);