/*
* Kendo UI Beta v2012.3.1024 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

;(function(e,t){function o(t,n){t=e(t),n?t.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):t.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var n=window.kendo,r=n.ui.Widget,i="change",s="k-reorderable",u=r.extend({init:function(t,u){var a=this,f,l=n.guid()+"-reorderable";r.fn.init.call(a,t,u),t=a.element.addClass(s),u=a.options,a.draggable=f=u.draggable||new n.ui.Draggable(t,{group:l,filter:u.filter,hint:u.hint}),a.reorderDropCue=e('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),t.find(f.options.filter).kendoDropTarget({group:f.options.group,dragenter:function(e){if(!a._draggable)return;var n=this.element,r=n[0]===a._draggable[0];o(e.draggable.hint,r),r||a.reorderDropCue.css({height:n.outerHeight(),top:t.offset().top,left:n.offset().left+(n.index()>a._draggable.index()?n.outerWidth():0)}).appendTo(document.body)},dragleave:function(e){o(e.draggable.hint,!0),a.reorderDropCue.remove()},drop:function(){if(!a._draggable)return;var e=a._draggable[0],n=this.element[0],r;e!==n&&(r=t.find(f.options.filter),a.trigger(i,{element:a._draggable,oldIndex:r.index(e),newIndex:r.index(n)}))}}),f.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){a.reorderDropCue.remove(),a._draggable=null},dragend:function(){a.reorderDropCue.remove(),a._draggable=null},dragstart:function(e){a._draggable=e.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[i],destroy:function(){var e=this;r.fn.destroy.call(e),e.draggable&&e.draggable.destroy(),n.destroy(e.element)}});n.ui.plugin(u)})(jQuery);